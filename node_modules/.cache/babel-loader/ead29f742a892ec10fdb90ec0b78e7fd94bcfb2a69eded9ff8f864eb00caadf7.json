{"ast":null,"code":"import React,{useState,useEffect}from'react';import{auth,db}from'./firebaseConfig';// Import auth and db from firebaseConfig\nimport{onAuthStateChanged,signInAnonymously,signInWithCustomToken,signOut}from'firebase/auth';import{doc,getDoc,onSnapshot}from'firebase/firestore';import Header from'./components/layout/Header';import Footer from'./components/layout/Footer';import HomePage from'./components/HomePage';import DashboardLayout from'./components/DashboardLayout';import OpenAccountPage from'./components/OpenAccountPage';import OpenSpecificAccountPage from'./components/OpenSpecificAccountPage';import BankingServicesLayout from'./components/BankingServicesLayout';import LoanCreditSystemLayout from'./components/LoanCreditSystemLayout';import BusinessBankingLayout from'./components/BusinessBankingLayout';import CardDigitalPaymentSystemLayout from'./components/CardDigitalPaymentSystemLayout';import FinancialReportsAndToolsLayout from'./components/FinancialReportsAndToolsLayout';import SecurityIdentityVerificationLayout from'./components/SecurityIdentityVerificationLayout';import GovernmentPortalLayout from'./components/GovernmentPortalLayout';import AdminDashboardLayout from'./components/AdminDashboardLayout';import{COLORS}from'./constants';// The __app_id is provided by the Canvas environment. For local hosting, a default is used.\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const appId=typeof __app_id!=='undefined'?__app_id:'default-app-id';const App=()=>{var _auth$currentUser;const[currentView,setCurrentView]=useState('home');const[navigationHistory,setNavigationHistory]=useState(['home']);const[isLoggedIn,setIsLoggedIn]=useState(false);const[isAdminLoggedIn,setIsAdminLoggedIn]=useState(false);const[userProfile,setUserProfile]=useState(null);const[authReady,setAuthReady]=useState(false);// State to track if Firebase auth is initialized\n// Effect for Firebase Authentication state changes\nuseEffect(()=>{// If Firebase auth is not initialized (e.g., missing config), mark as ready and return.\nif(!auth){setAuthReady(true);return;}// Set up listener for authentication state changes\nconst unsubscribe=onAuthStateChanged(auth,async user=>{if(user){console.log(\"User authenticated:\",user.uid);// Fetch user profile from Firestore upon successful authentication\nconst userDocRef=doc(db,`artifacts/${appId}/users`,user.uid);const userDocSnap=await getDoc(userDocRef);if(userDocSnap.exists()){const userData=userDocSnap.data();setUserProfile(userData);setIsLoggedIn(true);// Check for admin role from Firestore data\nif(userData.isAdmin){setIsAdminLoggedIn(true);setCurrentView('admin-dashboard');// Redirect admin to admin dashboard\n}else{setIsAdminLoggedIn(false);setCurrentView('dashboard');// Redirect regular user to dashboard\n}}else{console.warn(\"User document not found for authenticated user:\",user.uid);// If user is authenticated but no profile, log them out and reset state\nsetIsLoggedIn(false);setUserProfile(null);setCurrentView('home');await signOut(auth);// Ensure user is fully logged out if profile is missing\n}}else{console.log(\"No user authenticated.\");// Reset states if no user is authenticated\nsetIsLoggedIn(false);setIsAdminLoggedIn(false);setUserProfile(null);setCurrentView('home');}setAuthReady(true);// Mark auth as ready after initial check\n});// Attempt anonymous sign-in or custom token sign-in if available\nconst initialSignIn=async()=>{if(typeof __initial_auth_token!=='undefined'&&auth){try{await signInWithCustomToken(auth,__initial_auth_token);console.log(\"Signed in with custom token.\");}catch(error){console.error(\"Error signing in with custom token:\",error);// Fallback to anonymous sign-in if custom token fails\ntry{await signInAnonymously(auth);console.log(\"Signed in anonymously as fallback.\");}catch(anonError){console.error(\"Error signing in anonymously:\",anonError);}}}else if(auth){// If no custom token, try anonymous sign-in\ntry{await signInAnonymously(auth);console.log(\"Signed in anonymously.\");}catch(error){console.error(\"Error signing in anonymously:\",error);}}};if(auth){initialSignIn();// Call the initial sign-in logic\n}return()=>unsubscribe();// Clean up the auth listener on component unmount\n},[]);// Empty dependency array means this effect runs once on mount\n// Effect for real-time user profile updates from Firestore\nuseEffect(()=>{// Only set up listener if auth is ready, user is logged in, current user exists, and db is available\nif(!authReady||!isLoggedIn||!auth.currentUser||!db)return;const userDocRef=doc(db,`artifacts/${appId}/users`,auth.currentUser.uid);const unsubscribe=onSnapshot(userDocRef,docSnap=>{if(docSnap.exists()){setUserProfile(docSnap.data());// Update user profile state with latest data\n}else{console.log(\"User profile no longer exists in Firestore.\");// If user document is deleted, log them out and reset state\nsetIsLoggedIn(false);setIsAdminLoggedIn(false);setUserProfile(null);setCurrentView('home');}},error=>{console.error(\"Error listening to user profile:\",error);});return()=>unsubscribe();// Clean up the Firestore listener on unmount or dependency change\n},[authReady,isLoggedIn,(_auth$currentUser=auth.currentUser)===null||_auth$currentUser===void 0?void 0:_auth$currentUser.uid]);// Re-run if authReady, isLoggedIn, or current user UID changes\n// Navigation functions\nconst navigateTo=view=>{setNavigationHistory(prev=>[...prev,view]);// Add current view to history\nsetCurrentView(view);// Set new current view\n};const goBack=()=>{setNavigationHistory(prev=>{const newHistory=prev.slice(0,prev.length-1);// Remove last item from history\nif(newHistory.length>0){setCurrentView(newHistory[newHistory.length-1]);// Navigate to previous view\n}else{setCurrentView('home');// Fallback to home if no history\n}return newHistory;});};const handleHomeClick=()=>{setNavigationHistory(['home']);// Reset history to just home\nsetCurrentView('home');// Navigate to home\n};// Handle user sign out\nconst handleSignOut=async()=>{if(auth){try{await signOut(auth);// Sign out from Firebase Auth\nconsole.log(\"User signed out.\");}catch(error){console.error(\"Error signing out:\",error);}}// Reset all user-related states\nsetIsLoggedIn(false);setIsAdminLoggedIn(false);setUserProfile(null);handleHomeClick();// Navigate to home page after sign out\n};// Conditional rendering of views based on login status and currentView state\nconst renderCurrentView=()=>{if(!authReady){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-16 text-xl\",style:{color:COLORS.typography},children:\"Loading application...\"});}if(!isLoggedIn&&currentView==='home'){// Show HomePage if not logged in and current view is home\nreturn/*#__PURE__*/_jsx(HomePage,{setIsLoggedIn:setIsLoggedIn,setIsAdminLoggedIn:setIsAdminLoggedIn,setUserProfile:setUserProfile,setCurrentView:navigateTo,auth:auth,db:db,appId:appId});}else if(isLoggedIn&&!isAdminLoggedIn&&userProfile){// Show user dashboard and related pages if logged in as a regular user\nswitch(currentView){case'dashboard':return/*#__PURE__*/_jsx(DashboardLayout,{userProfile:userProfile,setCurrentView:navigateTo,db:db,appId:appId,auth:auth});case'open-account':return/*#__PURE__*/_jsx(OpenAccountPage,{userProfile:userProfile,setUserProfile:setUserProfile,setCurrentView:navigateTo});case'banking-services':return/*#__PURE__*/_jsx(BankingServicesLayout,{userProfile:userProfile,setUserProfile:setUserProfile,db:db,appId:appId,auth:auth});case'loans-credit':return/*#__PURE__*/_jsx(LoanCreditSystemLayout,{userProfile:userProfile,setUserProfile:setUserProfile,db:db,appId:appId,auth:auth});case'business-banking':return/*#__PURE__*/_jsx(BusinessBankingLayout,{userProfile:userProfile,db:db,appId:appId,auth:auth});case'cards-payments':return/*#__PURE__*/_jsx(CardDigitalPaymentSystemLayout,{userProfile:userProfile,setUserProfile:setUserProfile,db:db,appId:appId,auth:auth});case'reports-tools':return/*#__PURE__*/_jsx(FinancialReportsAndToolsLayout,{userProfile:userProfile,setUserProfile:setUserProfile,db:db,appId:appId,auth:auth});case'security':return/*#__PURE__*/_jsx(SecurityIdentityVerificationLayout,{});case'government-portal':return/*#__PURE__*/_jsx(GovernmentPortalLayout,{});case'open-personal':return/*#__PURE__*/_jsx(OpenSpecificAccountPage,{type:\"Personal\",userProfile:userProfile,setUserProfile:setUserProfile,setCurrentView:navigateTo,db:db,appId:appId,auth:auth});case'open-savings':return/*#__PURE__*/_jsx(OpenSpecificAccountPage,{type:\"Savings\",userProfile:userProfile,setUserProfile:setUserProfile,setCurrentView:navigateTo,db:db,appId:appId,auth:auth});case'open-business':return/*#__PURE__*/_jsx(OpenSpecificAccountPage,{type:\"Business\",userProfile:userProfile,setUserProfile:setUserProfile,setCurrentView:navigateTo,db:db,appId:appId,auth:auth});case'open-creditcard':return/*#__PURE__*/_jsx(OpenSpecificAccountPage,{type:\"CreditCard\",userProfile:userProfile,setUserProfile:setUserProfile,setCurrentView:navigateTo,db:db,appId:appId,auth:auth});case'open-investment':return/*#__PURE__*/_jsx(OpenSpecificAccountPage,{type:\"Investment\",userProfile:userProfile,setUserProfile:setUserProfile,setCurrentView:navigateTo,db:db,appId:appId,auth:auth});case'open-shadow':return/*#__PURE__*/_jsx(OpenSpecificAccountPage,{type:\"Shadow\",userProfile:userProfile,setUserProfile:setUserProfile,setCurrentView:navigateTo,db:db,appId:appId,auth:auth});default:return/*#__PURE__*/_jsx(DashboardLayout,{userProfile:userProfile,setCurrentView:navigateTo,db:db,appId:appId,auth:auth});}}else if(isAdminLoggedIn&&userProfile){// Show AdminDashboard if logged in as admin\nreturn/*#__PURE__*/_jsx(AdminDashboardLayout,{setUserProfile:setUserProfile,db:db,appId:appId,auth:auth});}return null;// Fallback, should ideally not be reached\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen font-sans flex flex-col\",style:{backgroundColor:COLORS.background,color:COLORS.typography},children:[/*#__PURE__*/_jsx(Header,{currentView:currentView,navigationHistory:navigationHistory,goBack:goBack,handleHomeClick:handleHomeClick,isLoggedIn:isLoggedIn,userProfile:userProfile,handleSignOut:handleSignOut,isAdminLoggedIn:isAdminLoggedIn}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-grow p-8\",children:renderCurrentView()}),/*#__PURE__*/_jsx(Footer,{})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","auth","db","onAuthStateChanged","signInAnonymously","signInWithCustomToken","signOut","doc","getDoc","onSnapshot","Header","Footer","HomePage","DashboardLayout","OpenAccountPage","OpenSpecificAccountPage","BankingServicesLayout","LoanCreditSystemLayout","BusinessBankingLayout","CardDigitalPaymentSystemLayout","FinancialReportsAndToolsLayout","SecurityIdentityVerificationLayout","GovernmentPortalLayout","AdminDashboardLayout","COLORS","jsx","_jsx","jsxs","_jsxs","appId","__app_id","App","_auth$currentUser","currentView","setCurrentView","navigationHistory","setNavigationHistory","isLoggedIn","setIsLoggedIn","isAdminLoggedIn","setIsAdminLoggedIn","userProfile","setUserProfile","authReady","setAuthReady","unsubscribe","user","console","log","uid","userDocRef","userDocSnap","exists","userData","data","isAdmin","warn","initialSignIn","__initial_auth_token","error","anonError","currentUser","docSnap","navigateTo","view","prev","goBack","newHistory","slice","length","handleHomeClick","handleSignOut","renderCurrentView","className","style","color","typography","children","type","backgroundColor","background"],"sources":["C:/Users/trent/OneDrive/Desktop/SberBank Website/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { auth, db } from './firebaseConfig'; // Import auth and db from firebaseConfig\r\nimport { onAuthStateChanged, signInAnonymously, signInWithCustomToken, signOut } from 'firebase/auth';\r\nimport { doc, getDoc, onSnapshot } from 'firebase/firestore';\r\n\r\nimport Header from './components/layout/Header';\r\nimport Footer from './components/layout/Footer';\r\nimport HomePage from './components/HomePage';\r\nimport DashboardLayout from './components/DashboardLayout';\r\nimport OpenAccountPage from './components/OpenAccountPage';\r\nimport OpenSpecificAccountPage from './components/OpenSpecificAccountPage';\r\nimport BankingServicesLayout from './components/BankingServicesLayout';\r\nimport LoanCreditSystemLayout from './components/LoanCreditSystemLayout';\r\nimport BusinessBankingLayout from './components/BusinessBankingLayout';\r\nimport CardDigitalPaymentSystemLayout from './components/CardDigitalPaymentSystemLayout';\r\nimport FinancialReportsAndToolsLayout from './components/FinancialReportsAndToolsLayout';\r\nimport SecurityIdentityVerificationLayout from './components/SecurityIdentityVerificationLayout';\r\nimport GovernmentPortalLayout from './components/GovernmentPortalLayout';\r\nimport AdminDashboardLayout from './components/AdminDashboardLayout';\r\n\r\nimport { COLORS } from './constants';\r\n\r\n// The __app_id is provided by the Canvas environment. For local hosting, a default is used.\r\nconst appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';\r\n\r\nconst App = () => {\r\n    const [currentView, setCurrentView] = useState('home');\r\n    const [navigationHistory, setNavigationHistory] = useState(['home']);\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n    const [isAdminLoggedIn, setIsAdminLoggedIn] = useState(false);\r\n    const [userProfile, setUserProfile] = useState(null);\r\n    const [authReady, setAuthReady] = useState(false); // State to track if Firebase auth is initialized\r\n\r\n    // Effect for Firebase Authentication state changes\r\n    useEffect(() => {\r\n        // If Firebase auth is not initialized (e.g., missing config), mark as ready and return.\r\n        if (!auth) {\r\n            setAuthReady(true);\r\n            return;\r\n        }\r\n\r\n        // Set up listener for authentication state changes\r\n        const unsubscribe = onAuthStateChanged(auth, async (user) => {\r\n            if (user) {\r\n                console.log(\"User authenticated:\", user.uid);\r\n                // Fetch user profile from Firestore upon successful authentication\r\n                const userDocRef = doc(db, `artifacts/${appId}/users`, user.uid);\r\n                const userDocSnap = await getDoc(userDocRef);\r\n\r\n                if (userDocSnap.exists()) {\r\n                    const userData = userDocSnap.data();\r\n                    setUserProfile(userData);\r\n                    setIsLoggedIn(true);\r\n                    // Check for admin role from Firestore data\r\n                    if (userData.isAdmin) {\r\n                        setIsAdminLoggedIn(true);\r\n                        setCurrentView('admin-dashboard'); // Redirect admin to admin dashboard\r\n                    } else {\r\n                        setIsAdminLoggedIn(false);\r\n                        setCurrentView('dashboard'); // Redirect regular user to dashboard\r\n                    }\r\n                } else {\r\n                    console.warn(\"User document not found for authenticated user:\", user.uid);\r\n                    // If user is authenticated but no profile, log them out and reset state\r\n                    setIsLoggedIn(false);\r\n                    setUserProfile(null);\r\n                    setCurrentView('home');\r\n                    await signOut(auth); // Ensure user is fully logged out if profile is missing\r\n                }\r\n            } else {\r\n                console.log(\"No user authenticated.\");\r\n                // Reset states if no user is authenticated\r\n                setIsLoggedIn(false);\r\n                setIsAdminLoggedIn(false);\r\n                setUserProfile(null);\r\n                setCurrentView('home');\r\n            }\r\n            setAuthReady(true); // Mark auth as ready after initial check\r\n        });\r\n\r\n        // Attempt anonymous sign-in or custom token sign-in if available\r\n        const initialSignIn = async () => {\r\n            if (typeof __initial_auth_token !== 'undefined' && auth) {\r\n                try {\r\n                    await signInWithCustomToken(auth, __initial_auth_token);\r\n                    console.log(\"Signed in with custom token.\");\r\n                } catch (error) {\r\n                    console.error(\"Error signing in with custom token:\", error);\r\n                    // Fallback to anonymous sign-in if custom token fails\r\n                    try {\r\n                        await signInAnonymously(auth);\r\n                        console.log(\"Signed in anonymously as fallback.\");\r\n                    } catch (anonError) {\r\n                        console.error(\"Error signing in anonymously:\", anonError);\r\n                    }\r\n                }\r\n            } else if (auth) {\r\n                // If no custom token, try anonymous sign-in\r\n                try {\r\n                    await signInAnonymously(auth);\r\n                    console.log(\"Signed in anonymously.\");\r\n                } catch (error) {\r\n                    console.error(\"Error signing in anonymously:\", error);\r\n                }\r\n            }\r\n        };\r\n\r\n        if (auth) {\r\n            initialSignIn(); // Call the initial sign-in logic\r\n        }\r\n\r\n        return () => unsubscribe(); // Clean up the auth listener on component unmount\r\n    }, []); // Empty dependency array means this effect runs once on mount\r\n\r\n    // Effect for real-time user profile updates from Firestore\r\n    useEffect(() => {\r\n        // Only set up listener if auth is ready, user is logged in, current user exists, and db is available\r\n        if (!authReady || !isLoggedIn || !auth.currentUser || !db) return;\r\n\r\n        const userDocRef = doc(db, `artifacts/${appId}/users`, auth.currentUser.uid);\r\n        const unsubscribe = onSnapshot(userDocRef, (docSnap) => {\r\n            if (docSnap.exists()) {\r\n                setUserProfile(docSnap.data()); // Update user profile state with latest data\r\n            } else {\r\n                console.log(\"User profile no longer exists in Firestore.\");\r\n                // If user document is deleted, log them out and reset state\r\n                setIsLoggedIn(false);\r\n                setIsAdminLoggedIn(false);\r\n                setUserProfile(null);\r\n                setCurrentView('home');\r\n            }\r\n        }, (error) => {\r\n            console.error(\"Error listening to user profile:\", error);\r\n        });\r\n\r\n        return () => unsubscribe(); // Clean up the Firestore listener on unmount or dependency change\r\n    }, [authReady, isLoggedIn, auth.currentUser?.uid]); // Re-run if authReady, isLoggedIn, or current user UID changes\r\n\r\n    // Navigation functions\r\n    const navigateTo = (view) => {\r\n        setNavigationHistory(prev => [...prev, view]); // Add current view to history\r\n        setCurrentView(view); // Set new current view\r\n    };\r\n\r\n    const goBack = () => {\r\n        setNavigationHistory(prev => {\r\n            const newHistory = prev.slice(0, prev.length - 1); // Remove last item from history\r\n            if (newHistory.length > 0) {\r\n                setCurrentView(newHistory[newHistory.length - 1]); // Navigate to previous view\r\n            } else {\r\n                setCurrentView('home'); // Fallback to home if no history\r\n            }\r\n            return newHistory;\r\n        });\r\n    };\r\n\r\n    const handleHomeClick = () => {\r\n        setNavigationHistory(['home']); // Reset history to just home\r\n        setCurrentView('home'); // Navigate to home\r\n    };\r\n\r\n    // Handle user sign out\r\n    const handleSignOut = async () => {\r\n        if (auth) {\r\n            try {\r\n                await signOut(auth); // Sign out from Firebase Auth\r\n                console.log(\"User signed out.\");\r\n            } catch (error) {\r\n                console.error(\"Error signing out:\", error);\r\n            }\r\n        }\r\n        // Reset all user-related states\r\n        setIsLoggedIn(false);\r\n        setIsAdminLoggedIn(false);\r\n        setUserProfile(null);\r\n        handleHomeClick(); // Navigate to home page after sign out\r\n    };\r\n\r\n    // Conditional rendering of views based on login status and currentView state\r\n    const renderCurrentView = () => {\r\n        if (!authReady) {\r\n            return <div className=\"text-center py-16 text-xl\" style={{ color: COLORS.typography }}>Loading application...</div>;\r\n        }\r\n\r\n        if (!isLoggedIn && currentView === 'home') {\r\n            // Show HomePage if not logged in and current view is home\r\n            return (\r\n                <HomePage\r\n                    setIsLoggedIn={setIsLoggedIn}\r\n                    setIsAdminLoggedIn={setIsAdminLoggedIn}\r\n                    setUserProfile={setUserProfile}\r\n                    setCurrentView={navigateTo}\r\n                    auth={auth}\r\n                    db={db}\r\n                    appId={appId}\r\n                />\r\n            );\r\n        } else if (isLoggedIn && !isAdminLoggedIn && userProfile) {\r\n            // Show user dashboard and related pages if logged in as a regular user\r\n            switch (currentView) {\r\n                case 'dashboard':\r\n                    return <DashboardLayout userProfile={userProfile} setCurrentView={navigateTo} db={db} appId={appId} auth={auth} />;\r\n                case 'open-account':\r\n                    return <OpenAccountPage userProfile={userProfile} setUserProfile={setUserProfile} setCurrentView={navigateTo} />;\r\n                case 'banking-services':\r\n                    return <BankingServicesLayout userProfile={userProfile} setUserProfile={setUserProfile} db={db} appId={appId} auth={auth} />;\r\n                case 'loans-credit':\r\n                    return <LoanCreditSystemLayout userProfile={userProfile} setUserProfile={setUserProfile} db={db} appId={appId} auth={auth} />;\r\n                case 'business-banking':\r\n                    return <BusinessBankingLayout userProfile={userProfile} db={db} appId={appId} auth={auth} />;\r\n                case 'cards-payments':\r\n                    return <CardDigitalPaymentSystemLayout userProfile={userProfile} setUserProfile={setUserProfile} db={db} appId={appId} auth={auth} />;\r\n                case 'reports-tools':\r\n                    return <FinancialReportsAndToolsLayout userProfile={userProfile} setUserProfile={setUserProfile} db={db} appId={appId} auth={auth} />;\r\n                case 'security':\r\n                    return <SecurityIdentityVerificationLayout />;\r\n                case 'government-portal':\r\n                    return <GovernmentPortalLayout />;\r\n                case 'open-personal':\r\n                    return <OpenSpecificAccountPage type=\"Personal\" userProfile={userProfile} setUserProfile={setUserProfile} setCurrentView={navigateTo} db={db} appId={appId} auth={auth} />;\r\n                case 'open-savings':\r\n                    return <OpenSpecificAccountPage type=\"Savings\" userProfile={userProfile} setUserProfile={setUserProfile} setCurrentView={navigateTo} db={db} appId={appId} auth={auth} />;\r\n                case 'open-business':\r\n                    return <OpenSpecificAccountPage type=\"Business\" userProfile={userProfile} setUserProfile={setUserProfile} setCurrentView={navigateTo} db={db} appId={appId} auth={auth} />;\r\n                case 'open-creditcard':\r\n                    return <OpenSpecificAccountPage type=\"CreditCard\" userProfile={userProfile} setUserProfile={setUserProfile} setCurrentView={navigateTo} db={db} appId={appId} auth={auth} />;\r\n                case 'open-investment':\r\n                    return <OpenSpecificAccountPage type=\"Investment\" userProfile={userProfile} setUserProfile={setUserProfile} setCurrentView={navigateTo} db={db} appId={appId} auth={auth} />;\r\n                case 'open-shadow':\r\n                    return <OpenSpecificAccountPage type=\"Shadow\" userProfile={userProfile} setUserProfile={setUserProfile} setCurrentView={navigateTo} db={db} appId={appId} auth={auth} />;\r\n                default:\r\n                    return <DashboardLayout userProfile={userProfile} setCurrentView={navigateTo} db={db} appId={appId} auth={auth} />;\r\n            }\r\n        } else if (isAdminLoggedIn && userProfile) {\r\n            // Show AdminDashboard if logged in as admin\r\n            return <AdminDashboardLayout setUserProfile={setUserProfile} db={db} appId={appId} auth={auth} />;\r\n        }\r\n        return null; // Fallback, should ideally not be reached\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen font-sans flex flex-col\" style={{ backgroundColor: COLORS.background, color: COLORS.typography }}>\r\n            {/* Header component */}\r\n            <Header\r\n                currentView={currentView}\r\n                navigationHistory={navigationHistory}\r\n                goBack={goBack}\r\n                handleHomeClick={handleHomeClick}\r\n                isLoggedIn={isLoggedIn}\r\n                userProfile={userProfile}\r\n                handleSignOut={handleSignOut}\r\n                isAdminLoggedIn={isAdminLoggedIn}\r\n            />\r\n            {/* Main content area */}\r\n            <main className=\"flex-grow p-8\">\r\n                {renderCurrentView()}\r\n            </main>\r\n            {/* Footer component */}\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
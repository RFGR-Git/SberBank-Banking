{"ast":null,"code":"import React,{useState,useEffect}from'react';import{doc,updateDoc,collection,query,where,getDocs,getDoc,deleteDoc,onSnapshot}from'firebase/firestore';// Added onSnapshot\nimport GlassCard from'./common/GlassCard';import{COLORS}from'../constants';import{CheckCircle,Search,CreditCard,DollarSign,FileText,User,Shield,Settings,Zap,BarChart,Lock,Ban,Award,ClipboardList,TrendingUp,Landmark,Truck,Building,FileBadge,Coins,Package,MapPin}from'lucide-react';// Added more Lucide icons for new sections\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboardLayout=_ref=>{let{setUserProfile,db,appId,auth}=_ref;const[targetUserId,setTargetUserId]=useState('');// For targeting users by Discord ID\nconst[newCreditScore,setNewCreditScore]=useState('');const[penaltyType,setPenaltyType]=useState('Missed Payment');const[kycSearchId,setKycSearchId]=useState('');// For searching by Discord ID or KYC Code\nconst[assignRoleUserId,setAssignRoleUserId]=useState('');// Separate state for role assignment\nconst[specialAccountType,setSpecialAccountType]=useState('VIP Client');const[accountRequests,setAccountRequests]=useState([]);// State for pending account requests\nconst[creditCardRequests,setCreditCardRequests]=useState([]);// State for pending credit card requests\nconst[depositRequests,setDepositRequests]=useState([]);// State for pending deposit requests\nconst[withdrawalRequests,setWithdrawalRequests]=useState([]);// State for pending withdrawal requests\nconst[loanRequests,setLoanRequests]=useState([]);// State for pending loan requests\nconst[searchedUserKyc,setSearchedUserKyc]=useState(null);// State for displaying searched user's KYC info\nconst[govAccountId,setGovAccountId]=useState('');// For government deposits/withdrawals\nconst[govAmount,setGovAmount]=useState('');// For government deposits/withdrawals\nconst[businessLinkUserId,setBusinessLinkUserId]=useState('');// For linking business to user\nconst[businessRegId,setBusinessRegId]=useState('');// For linking business to user\nconst[youthAccountId,setYouthAccountId]=useState('');// For youth account graduation (removed from UI, but state exists)\n// Helper to generate debit card details (copied from OpenSpecificAccountPage)\nconst generateDebitCardDetails=()=>{const num=Array(4).fill(0).map(()=>Math.floor(1000+Math.random()*9000)).join(' ');const issueDate=new Date('2005-01-01');const expiryDate=new Date(issueDate);expiryDate.setFullYear(expiryDate.getFullYear()+7);const expiryMonth=String(expiryDate.getMonth()+1).padStart(2,'0');const expiryYear=String(expiryDate.getFullYear()).slice(-2);const cvv=String(Math.floor(100+Math.random()*900));const pin=String(Math.floor(1000+Math.random()*9000));return{number:num,expiry:`${expiryMonth}/${expiryYear}`,cvv,pin,issueDate:issueDate.toISOString(),expiryDate:expiryDate.toISOString()};};// Fetch all types of pending requests\nuseEffect(()=>{if(!db||!auth.currentUser)return;// Ensure db and authenticated user are available\n// Set up real-time listeners for all request types\nconst unsubscribeAccountRequests=onSnapshot(query(collection(db,`artifacts/${appId}/public/data/accountRequests`),where(\"status\",\"==\",\"Pending\")),snapshot=>{setAccountRequests(snapshot.docs.map(doc=>({id:doc.id,...doc.data()})));},error=>console.error(\"Error listening to account requests:\",error));const unsubscribeCreditCardRequests=onSnapshot(query(collection(db,`artifacts/${appId}/public/data/creditCardRequests`),where(\"status\",\"==\",\"Pending\")),snapshot=>{setCreditCardRequests(snapshot.docs.map(doc=>({id:doc.id,...doc.data()})));},error=>console.error(\"Error listening to credit card requests:\",error));const unsubscribeDepositRequests=onSnapshot(query(collection(db,`artifacts/${appId}/public/data/depositRequests`),where(\"status\",\"==\",\"Pending\")),snapshot=>{setDepositRequests(snapshot.docs.map(doc=>({id:doc.id,...doc.data()})));},error=>console.error(\"Error listening to deposit requests:\",error));const unsubscribeWithdrawalRequests=onSnapshot(query(collection(db,`artifacts/${appId}/public/data/withdrawalRequests`),where(\"status\",\"==\",\"Pending\")),snapshot=>{setWithdrawalRequests(snapshot.docs.map(doc=>({id:doc.id,...doc.data()})));},error=>console.error(\"Error listening to withdrawal requests:\",error));const unsubscribeLoanRequests=onSnapshot(query(collection(db,`artifacts/${appId}/public/data/loanRequests`),where(\"status\",\"==\",\"Pending\")),snapshot=>{setLoanRequests(snapshot.docs.map(doc=>({id:doc.id,...doc.data()})));},error=>console.error(\"Error listening to loan requests:\",error));return()=>{unsubscribeAccountRequests();unsubscribeCreditCardRequests();unsubscribeDepositRequests();unsubscribeWithdrawalRequests();unsubscribeLoanRequests();};},[db,appId,auth.currentUser]);// Depend on db and appId to re-run if they change\n// Generic function to find user by Discord ID or Bank ID\nconst findUserByDiscordOrBankId=async id=>{const usersRef=collection(db,`artifacts/${appId}/users`);let q;if(id.includes('#')||id.length<8){// Heuristic: Discord ID contains # or is shorter than typical Bank ID\nq=query(usersRef,where(\"discordId\",\"==\",id));}else{// Assume it's a Bank ID\nq=query(usersRef,where(\"bankId\",\"==\",id));}const querySnapshot=await getDocs(q);if(!querySnapshot.empty){return{id:querySnapshot.docs[0].id,data:querySnapshot.docs[0].data()};}return null;};// Handle approval or denial of an account request\nconst handleApproveDenyAccountRequest=async(requestId,status)=>{try{const requestDocRef=doc(db,`artifacts/${appId}/public/data/accountRequests`,requestId);const requestSnap=await getDoc(requestDocRef);if(!requestSnap.exists()){alert('Account request not found.');return;}const requestData=requestSnap.data();const userDocRef=doc(db,`artifacts/${appId}/users`,requestData.userId);const currentUserSnap=await getDoc(userDocRef);if(!currentUserSnap.exists()){alert('User for this request not found. Request cannot be processed.');await deleteDoc(requestDocRef);// Clean up orphaned request\nreturn;}const currentUserData=currentUserSnap.data();if(status==='Approved'){const depositAmount=requestData.initialDeposit;const newBalance=currentUserData.balance+depositAmount;const newAccounts={...currentUserData.accounts,[requestData.accountType]:(currentUserData.accounts[requestData.accountType]||0)+depositAmount};const newTransactions=[...currentUserData.transactions,{date:new Date().toLocaleDateString('en-US'),description:`${requestData.accountType} Account Opened (Admin Approved)`,amount:depositAmount,status:'Complete',discordLink:requestData.discordMessageLink}];const updateData={balance:newBalance,accounts:newAccounts,transactions:newTransactions};// Only generate debit card if it's a Personal account AND they don't already have one\nif(requestData.accountType==='Personal'&&!currentUserData.debitCard){updateData.debitCard=generateDebitCardDetails();}await updateDoc(userDocRef,updateData);alert(`${requestData.accountType} account for ${requestData.userName} approved. Balance updated.`);}else{alert(`${requestData.accountType} account for ${requestData.userName} denied.`);}await updateDoc(requestDocRef,{status:status});// Update request status\n// No need to manually filter state, onSnapshot will handle it\n}catch(error){console.error(`Error ${status.toLowerCase()} account request:`,error);alert(`Failed to ${status.toLowerCase()} account request: ${error.message}`);}};// Handle approval/denial of Credit Card Requests\nconst handleApproveDenyCreditCardRequest=async(requestId,status)=>{try{const requestDocRef=doc(db,`artifacts/${appId}/public/data/creditCardRequests`,requestId);const requestSnap=await getDoc(requestDocRef);if(!requestSnap.exists()){alert('Credit Card request not found.');return;}const requestData=requestSnap.data();const userDocRef=doc(db,`artifacts/${appId}/users`,requestData.userId);const currentUserSnap=await getDoc(userDocRef);if(!currentUserSnap.exists()){alert('User for this request not found. Request cannot be processed.');await deleteDoc(requestDocRef);return;}const currentUserData=currentUserSnap.data();let approvalMessage='';let creditLimit=0;if(status==='Approved'){// Determine credit limit based on credit score\nif(requestData.creditScore>=750){creditLimit=20000;// Premium\napprovalMessage=`Credit Card approved for ${requestData.userName} with a ₽${creditLimit.toLocaleString()} limit (Premium).`;}else if(requestData.creditScore>=600){creditLimit=15000;// Standard\napprovalMessage=`Credit Card approved for ${requestData.userName} with a ₽${creditLimit.toLocaleString()} limit.`;}else if(requestData.creditScore>=500){creditLimit=5000;// Low Limit / Manual Review\napprovalMessage=`Credit Card approved for ${requestData.userName} with a ₽${creditLimit.toLocaleString()} limit (Manual Review).`;}else{status='Denied';// Override to denied if score is too low\napprovalMessage=`Credit Card denied for ${requestData.userName} (Score too low: ${requestData.creditScore}).`;}if(status==='Approved'){await updateDoc(userDocRef,{hasCreditCard:true,'accounts.CreditCard':creditLimit,// Set the initial credit limit as balance\ntransactions:[...currentUserData.transactions,{date:new Date().toLocaleDateString('en-US'),description:`Credit Card Approved (Limit: ₽${creditLimit.toLocaleString()})`,amount:0,// No direct fund transfer\nstatus:'Complete'}]});}}else{approvalMessage=`Credit Card denied for ${requestData.userName}.`;}await updateDoc(requestDocRef,{status:status,creditLimit:creditLimit});alert(approvalMessage);}catch(error){console.error(`Error ${status.toLowerCase()} credit card request:`,error);alert(`Failed to ${status.toLowerCase()} credit card request: ${error.message}`);}};// Handle approval/denial of Deposit Requests\nconst handleApproveDenyDepositRequest=async(requestId,status)=>{try{const requestDocRef=doc(db,`artifacts/${appId}/public/data/depositRequests`,requestId);const requestSnap=await getDoc(requestDocRef);if(!requestSnap.exists()){alert('Deposit request not found.');return;}const requestData=requestSnap.data();const userDocRef=doc(db,`artifacts/${appId}/users`,requestData.userId);const currentUserSnap=await getDoc(userDocRef);if(!currentUserSnap.exists()){alert('User for this request not found. Request cannot be processed.');await deleteDoc(requestDocRef);return;}const currentUserData=currentUserSnap.data();if(status==='Approved'){const depositAmount=requestData.amount;await updateDoc(userDocRef,{balance:currentUserData.balance+depositAmount,'accounts.Personal':(currentUserData.accounts.Personal||0)+depositAmount,// Assume deposit to personal\ntransactions:[...currentUserData.transactions,{date:new Date().toLocaleDateString('en-US'),description:`Deposit Approved (Proof: ${requestData.discordLink})`,amount:depositAmount,status:'Complete'}]});alert(`Deposit of ${depositAmount.toFixed(2)} RUB for ${requestData.userName} approved.`);}else{alert(`Deposit request for ${requestData.userName} denied.`);}await updateDoc(requestDocRef,{status:status});}catch(error){console.error(`Error ${status.toLowerCase()} deposit request:`,error);alert(`Failed to ${status.toLowerCase()} deposit request: ${error.message}`);}};// Handle approval/denial of Withdrawal Requests\nconst handleApproveDenyWithdrawalRequest=async(requestId,status)=>{try{const requestDocRef=doc(db,`artifacts/${appId}/public/data/withdrawalRequests`,requestId);const requestSnap=await getDoc(requestDocRef);if(!requestSnap.exists()){alert('Withdrawal request not found.');return;}const requestData=requestSnap.data();const userDocRef=doc(db,`artifacts/${appId}/users`,requestData.userId);const currentUserSnap=await getDoc(userDocRef);if(!currentUserSnap.exists()){alert('User for this request not found. Request cannot be processed.');await deleteDoc(requestDocRef);return;}const currentUserData=currentUserSnap.data();if(status==='Approved'){const withdrawalAmount=requestData.amount;const sourceAccount=requestData.sourceAccount;if((currentUserData.accounts[sourceAccount]||0)<withdrawalAmount){alert(`User ${requestData.userName} has insufficient funds in ${sourceAccount} for this withdrawal. Denying.`);status='Denied';// Force deny if funds are truly insufficient\n}else{await updateDoc(userDocRef,{[`accounts.${sourceAccount}`]:(currentUserData.accounts[sourceAccount]||0)-withdrawalAmount,balance:currentUserData.balance-withdrawalAmount,transactions:[...currentUserData.transactions,{date:new Date().toLocaleDateString('en-US'),description:`Withdrawal Approved from ${sourceAccount}`,amount:-withdrawalAmount,status:'Complete'}]});alert(`Withdrawal of ${withdrawalAmount.toFixed(2)} RUB from ${sourceAccount} for ${requestData.userName} approved.`);}}else{alert(`Withdrawal request for ${requestData.userName} denied.`);}await updateDoc(requestDocRef,{status:status});}catch(error){console.error(`Error ${status.toLowerCase()} withdrawal request:`,error);alert(`Failed to ${status.toLowerCase()} withdrawal request: ${error.message}`);}};// Handle approval/denial of Loan Requests\nconst handleApproveDenyLoanRequest=async(requestId,status)=>{try{const requestDocRef=doc(db,`artifacts/${appId}/public/data/loanRequests`,requestId);const requestSnap=await getDoc(requestDocRef);if(!requestSnap.exists()){alert('Loan request not found.');return;}const requestData=requestSnap.data();const userDocRef=doc(db,`artifacts/${appId}/users`,requestData.userId);const currentUserSnap=await getDoc(userDocRef);if(!currentUserSnap.exists()){alert('User for this request not found. Request cannot be processed.');await deleteDoc(requestDocRef);return;}const currentUserData=currentUserSnap.data();if(status==='Approved'){// Check if user already has an active loan of this type (if limited)\nif(requestData.loanType==='Personal Loan'&&(currentUserData.loanHistory||[]).some(loan=>loan.type==='Personal Loan'&&loan.status==='Active')){alert(`User ${requestData.userName} already has an active Personal Loan. Denying this request.`);status='Denied';// Force deny if already has an active personal loan\n}else{const loanAmount=requestData.amount;const newLoanEntry={id:requestId,// Link loan history to request ID\ntype:requestData.loanType,amount:loanAmount,repaymentPeriod:requestData.repaymentPeriod,interestRate:requestData.interestRate,collateralLink:requestData.collateralLink||null,downPayment:requestData.downPayment||0,propertyRegion:requestData.propertyRegion||'',dateIssued:new Date().toLocaleDateString('en-US'),status:'Active',// Mark as active\n// Simulate monthly payment calculation for display\nmonthlyPayment:loanAmount*(requestData.interestRate/12*Math.pow(1+requestData.interestRate/12,requestData.repaymentPeriod))/(Math.pow(1+requestData.interestRate/12,requestData.repaymentPeriod)-1)||0};await updateDoc(userDocRef,{balance:currentUserData.balance+loanAmount,'accounts.Personal':(currentUserData.accounts.Personal||0)+loanAmount,// Loans typically go to personal account\ntransactions:[...currentUserData.transactions,{date:new Date().toLocaleDateString('en-US'),description:`Loan Approved: ${requestData.loanType} (ID: ${requestId})`,amount:loanAmount,status:'Complete'}],loanHistory:[...(currentUserData.loanHistory||[]),newLoanEntry]// Add to loan history\n});alert(`${requestData.loanType} loan for ${requestData.userName} approved for ₽${loanAmount.toLocaleString()}.`);}}else{alert(`Loan request for ${requestData.userName} denied.`);}await updateDoc(requestDocRef,{status:status});}catch(error){console.error(`Error ${status.toLowerCase()} loan request:`,error);alert(`Failed to ${status.toLowerCase()} loan request: ${error.message}`);}};const handleFetchKycInfo=async e=>{e.preventDefault();if(!kycSearchId){alert('Please enter a Discord ID or KYC Code.');return;}try{const foundUser=await findUserByDiscordOrBankId(kycSearchId);if(foundUser){setSearchedUserKyc(foundUser.data);// Set found user data to state\n}else{setSearchedUserKyc(null);// Reset if not found\nalert('User not found.');}}catch(error){console.error(\"Error fetching KYC info:\",error);alert(`Failed to fetch KYC info: ${error.message}`);}};// Handle updating a user's credit score\nconst handleUpdateCreditScore=async e=>{e.preventDefault();const score=parseInt(newCreditScore);if(isNaN(score)||score<300||score>850){alert('Please enter a valid credit score between 300 and 850.');return;}if(!targetUserId){alert('Please enter a User ID to update credit score.');return;}try{const foundUser=await findUserByDiscordOrBankId(targetUserId);if(foundUser){const userDocRef=doc(db,`artifacts/${appId}/users`,foundUser.id);await updateDoc(userDocRef,{creditScore:score});// Update credit score in Firestore\nalert(`Credit score for ${targetUserId} updated to ${score}.`);setNewCreditScore('');setTargetUserId('');// If the searched user's KYC info is displayed, update it\nif(searchedUserKyc&&(searchedUserKyc.discordId===targetUserId||searchedUserKyc.bankId===targetUserId)){setSearchedUserKyc(prev=>({...prev,creditScore:score}));}}else{alert('User not found.');}}catch(error){console.error(\"Error updating credit score:\",error);alert(`Failed to update credit score: ${error.message}`);}};// Handle freezing a user's account\nconst handleFreezeAccount=async()=>{if(!targetUserId){alert('Please enter a User ID to freeze.');return;}try{const foundUser=await findUserByDiscordOrBankId(targetUserId);if(foundUser){const userDocRef=doc(db,`artifacts/${appId}/users`,foundUser.id);await updateDoc(userDocRef,{isFrozen:true});// Set isFrozen flag to true\nalert(`Account for ${targetUserId} frozen.`);setTargetUserId('');}else{alert('User not found.');}}catch(error){console.error(\"Error freezing account:\",error);alert(`Failed to freeze account: ${error.message}`);}};// Handle applying a penalty to a user's credit score\nconst handleApplyPenalty=async()=>{if(!targetUserId){alert('Please enter a User ID to apply penalty.');return;}try{const foundUser=await findUserByDiscordOrBankId(targetUserId);if(foundUser){const userDocRef=doc(db,`artifacts/${appId}/users`,foundUser.id);const currentScore=foundUser.data.creditScore;let penaltyAmount=0;// Determine penalty amount based on type\nswitch(penaltyType){case'Missed Payment':penaltyAmount=15;break;case'Loan Default':penaltyAmount=25;break;case'Overused Credit':penaltyAmount=10;break;case'Flagged by Auditor':penaltyAmount=30;break;default:break;}const newScore=Math.max(300,currentScore-penaltyAmount);// Ensure score doesn't go below 300\nawait updateDoc(userDocRef,{creditScore:newScore});// Update credit score\nalert(`Penalty \"${penaltyType}\" applied to ${targetUserId}. Credit score updated to ${newScore}.`);setTargetUserId('');// If the searched user's KYC info is displayed, update it\nif(searchedUserKyc&&(searchedUserKyc.discordId===targetUserId||searchedUserKyc.bankId===targetUserId)){setSearchedUserKyc(prev=>({...prev,creditScore:newScore}));}}else{alert('User not found.');}}catch(error){console.error(\"Error applying penalty:\",error);alert(`Failed to apply penalty: ${error.message}`);}};// Handle assigning a special role to a user\nconst handleAssignRole=async()=>{if(!assignRoleUserId){alert('Please enter a User ID to assign role.');return;}try{const foundUser=await findUserByDiscordOrBankId(assignRoleUserId);if(foundUser){const userDocRef=doc(db,`artifacts/${appId}/users`,foundUser.id);// Update specialRole and isVIP flag\nawait updateDoc(userDocRef,{specialRole:specialAccountType,isVIP:specialAccountType==='VIP Client'});alert(`Special role \"${specialAccountType}\" assigned to ${assignRoleUserId}.`);setAssignRoleUserId('');}else{alert('User not found.');}}catch(error){console.error(\"Error assigning role:\",error);alert(`Failed to assign role: ${error.message}`);}};// Handle banning a user\nconst handleBanUser=async()=>{if(!targetUserId){alert('Please enter a User ID to ban.');return;}try{const foundUser=await findUserByDiscordOrBankId(targetUserId);if(foundUser){const userDocRef=doc(db,`artifacts/${appId}/users`,foundUser.id);await updateDoc(userDocRef,{isBanned:true});// Set isBanned flag to true\nalert(`User ${targetUserId} banned.`);setTargetUserId('');}else{alert('User not found.');}}catch(error){console.error(\"Error banning user:\",error);alert(`Failed to ban user: ${error.message}`);}};// Handle Government Deposit/Withdrawal\nconst handleGovTransaction=async type=>{const amount=parseFloat(govAmount);if(isNaN(amount)||amount<=0||!govAccountId){alert('Please enter a valid amount and Government Account ID.');return;}try{const foundUser=await findUserByDiscordOrBankId(govAccountId);// Assuming gov accounts also have a bankId or discordId\n// A more robust check would be to verify if the foundUser.data.accountType is indeed 'Government'\n// For now, we'll proceed if user is found.\nif(!foundUser){alert('Government Account not found.');return;}const userDocRef=doc(db,`artifacts/${appId}/users`,foundUser.id);const currentGovBalance=foundUser.data.accounts.Government||0;const currentBalance=foundUser.data.balance||0;let newGovBalance=currentGovBalance;let newOverallBalance=currentBalance;let description='';if(type==='deposit'){newGovBalance+=amount;newOverallBalance+=amount;description=`Government Deposit by Admin`;}else{// withdrawal\nif(currentGovBalance<amount){alert('Insufficient funds in Government Account.');return;}newGovBalance-=amount;newOverallBalance-=amount;description=`Government Withdrawal by Admin`;}await updateDoc(userDocRef,{'accounts.Government':newGovBalance,balance:newOverallBalance,transactions:[...(foundUser.data.transactions||[]),{date:new Date().toLocaleDateString('en-US'),description:description,amount:type==='deposit'?amount:-amount,status:'Complete'}]});alert(`${type==='deposit'?'Deposited':'Withdrew'} ${amount.toFixed(2)} RUB for Government Account ${govAccountId}.`);setGovAccountId('');setGovAmount('');}catch(error){console.error(`Error during Government ${type}:`,error);alert(`Failed to perform Government ${type}: ${error.message}`);}};// Handle linking business to user\nconst handleLinkBusiness=async()=>{if(!businessLinkUserId||!businessRegId){alert('Please enter both User ID and Business Registration ID.');return;}try{const foundUser=await findUserByDiscordOrBankId(businessLinkUserId);if(foundUser){const userDocRef=doc(db,`artifacts/${appId}/users`,foundUser.id);await updateDoc(userDocRef,{businessRegistrationId:businessRegId,// Add a new field for business registration\n// Optionally, set a flag if this user is a business owner\nisBusinessOwner:true});alert(`Business Registration ID ${businessRegId} linked to user ${businessLinkUserId}.`);setBusinessLinkUserId('');setBusinessRegId('');}else{alert('User not found.');}}catch(error){console.error(\"Error linking business:\",error);alert(`Failed to link business: ${error.message}`);}};// Handle Youth Account Graduation (Placeholder - removed from UI but keeping function for now)\n// const handleGraduateYouthAccount = async () => {\n//     if (!youthAccountId) {\n//         alert('Please enter a Youth Account ID.');\n//         return;\n//     }\n//     alert(`Simulating graduation for Youth Account ${youthAccountId}. (Functionality not fully implemented)`);\n//     setYouthAccountId('');\n// };\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-extrabold mb-8 text-center drop-shadow-sm\",style:{color:COLORS.primaryAccent},children:\"\\uD83D\\uDEE0\\uFE0F Administrative Dashboard (Main Panel)\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-3xl font-bold mb-6 flex items-center\",style:{color:COLORS.typography},children:[/*#__PURE__*/_jsx(ClipboardList,{size:30,className:\"mr-3\"}),\" Account Requests Queue\"]}),/*#__PURE__*/_jsxs(GlassCard,{className:\"p-8\",children:[accountRequests.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-center\",children:\"No pending account requests.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-3 mb-4\",children:accountRequests.map(request=>{var _request$initialDepos;return/*#__PURE__*/_jsxs(\"li\",{className:\"p-3 rounded-lg flex justify-between items-center\",style:{backgroundColor:COLORS.tertiary},children:[/*#__PURE__*/_jsxs(\"span\",{children:[request.userName,\" - \",request.accountType,\" Account (Deposit: \",((_request$initialDepos=request.initialDeposit)===null||_request$initialDepos===void 0?void 0:_request$initialDepos.toFixed(2))||0,\" RUB)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApproveDenyAccountRequest(request.id,'Approved'),className:\"px-4 py-1 rounded-full bg-green-600 text-white text-sm\",children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApproveDenyAccountRequest(request.id,'Denied'),className:\"px-4 py-1 rounded-full bg-red-600 text-white text-sm\",children:\"Deny\"})]})]},request.id);})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 italic mt-4\",children:\"Review applications for Personal, Savings, Business, Government, and Shadow accounts here.\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-3xl font-bold mb-6 flex items-center\",style:{color:COLORS.typography},children:[/*#__PURE__*/_jsx(CreditCard,{size:30,className:\"mr-3\"}),\" Credit Card Requests Queue\"]}),/*#__PURE__*/_jsxs(GlassCard,{className:\"p-8\",children:[creditCardRequests.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-center\",children:\"No pending credit card requests.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-3 mb-4\",children:creditCardRequests.map(request=>/*#__PURE__*/_jsxs(\"li\",{className:\"p-3 rounded-lg flex justify-between items-center\",style:{backgroundColor:COLORS.tertiary},children:[/*#__PURE__*/_jsxs(\"span\",{children:[request.userName,\" - Credit Card (Score: \",request.creditScore,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApproveDenyCreditCardRequest(request.id,'Approved'),className:\"px-4 py-1 rounded-full bg-green-600 text-white text-sm\",children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApproveDenyCreditCardRequest(request.id,'Denied'),className:\"px-4 py-1 rounded-full bg-red-600 text-white text-sm\",children:\"Deny\"})]})]},request.id))}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 italic mt-4\",children:\"Credit card applications are reviewed here. Approval based on credit score tiers.\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-3xl font-bold mb-6 flex items-center\",style:{color:COLORS.typography},children:[/*#__PURE__*/_jsx(Coins,{size:30,className:\"mr-3\"}),\" Deposit Requests Queue\"]}),/*#__PURE__*/_jsxs(GlassCard,{className:\"p-8\",children:[depositRequests.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-center\",children:\"No pending deposit requests.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-3 mb-4\",children:depositRequests.map(request=>{var _request$amount;return/*#__PURE__*/_jsxs(\"li\",{className:\"p-3 rounded-lg flex justify-between items-center\",style:{backgroundColor:COLORS.tertiary},children:[/*#__PURE__*/_jsxs(\"span\",{children:[request.userName,\" - Deposit of \",((_request$amount=request.amount)===null||_request$amount===void 0?void 0:_request$amount.toFixed(2))||0,\" RUB (Proof: \",/*#__PURE__*/_jsx(\"a\",{href:request.discordLink,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-400 hover:underline\",children:\"Link\"}),\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApproveDenyDepositRequest(request.id,'Approved'),className:\"px-4 py-1 rounded-full bg-green-600 text-white text-sm\",children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApproveDenyDepositRequest(request.id,'Denied'),className:\"px-4 py-1 rounded-full bg-red-600 text-white text-sm\",children:\"Deny\"})]})]},request.id);})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 italic mt-4\",children:\"Review user deposit requests with provided Discord proof of payment.\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-3xl font-bold mb-6 flex items-center\",style:{color:COLORS.typography},children:[/*#__PURE__*/_jsx(DollarSign,{size:30,className:\"mr-3\"}),\" Withdrawal Requests Queue\"]}),/*#__PURE__*/_jsxs(GlassCard,{className:\"p-8\",children:[withdrawalRequests.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-center\",children:\"No pending withdrawal requests.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-3 mb-4\",children:withdrawalRequests.map(request=>{var _request$amount2;return/*#__PURE__*/_jsxs(\"li\",{className:\"p-3 rounded-lg flex justify-between items-center\",style:{backgroundColor:COLORS.tertiary},children:[/*#__PURE__*/_jsxs(\"span\",{children:[request.userName,\" - Withdrawal of \",((_request$amount2=request.amount)===null||_request$amount2===void 0?void 0:_request$amount2.toFixed(2))||0,\" RUB from \",request.sourceAccount]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApproveDenyWithdrawalRequest(request.id,'Approved'),className:\"px-4 py-1 rounded-full bg-green-600 text-white text-sm\",children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApproveDenyWithdrawalRequest(request.id,'Denied'),className:\"px-4 py-1 rounded-full bg-red-600 text-white text-sm\",children:\"Deny\"})]})]},request.id);})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 italic mt-4\",children:\"Review user withdrawal requests. Funds will be deducted from the specified source account upon approval.\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-3xl font-bold mb-6 flex items-center\",style:{color:COLORS.typography},children:[/*#__PURE__*/_jsx(FileText,{size:30,className:\"mr-3\"}),\" Loan Requests Queue\"]}),/*#__PURE__*/_jsxs(GlassCard,{className:\"p-8\",children:[loanRequests.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-center\",children:\"No pending loan requests.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-3 mb-4\",children:loanRequests.map(request=>{var _request$amount3,_request$downPayment;return/*#__PURE__*/_jsxs(\"li\",{className:\"p-3 rounded-lg flex flex-col items-start\",style:{backgroundColor:COLORS.tertiary},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between w-full mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[request.userName,\" - \",request.loanType,\" Request: \",((_request$amount3=request.amount)===null||_request$amount3===void 0?void 0:_request$amount3.toFixed(2))||0,\" RUB\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApproveDenyLoanRequest(request.id,'Approved'),className:\"px-4 py-1 rounded-full bg-green-600 text-white text-sm\",children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApproveDenyLoanRequest(request.id,'Denied'),className:\"px-4 py-1 rounded-full bg-red-600 text-white text-sm\",children:\"Deny\"})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-400\",children:[\"Credit Score: \",request.creditScore,\", Term: \",request.repaymentPeriod,\" months, Rate: \",(request.interestRate*100).toFixed(2),\"%\"]}),request.collateralLink&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-400\",children:[\"Collateral: \",/*#__PURE__*/_jsx(\"a\",{href:request.collateralLink,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-400 hover:underline\",children:\"Link to Asset Proof\"})]}),request.loanType==='Mortgage Loan'&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-400\",children:[\"Down Payment: \",((_request$downPayment=request.downPayment)===null||_request$downPayment===void 0?void 0:_request$downPayment.toFixed(2))||0,\" RUB, Property Region: \",request.propertyRegion]})]},request.id);})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 italic mt-4\",children:\"Review loan applications. Approval is based on credit score, loan type, and collateral requirements.\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-3xl font-bold mb-6 flex items-center\",style:{color:COLORS.typography},children:[/*#__PURE__*/_jsx(User,{size:30,className:\"mr-3\"}),\" KYC & Identity Management\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(GlassCard,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-semibold mb-4\",style:{color:COLORS.primaryAccent},children:\"Fetch KYC Info\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFetchKycInfo,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Discord ID or Bank ID\",value:kycSearchId,onChange:e=>setKycSearchId(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\",style:{backgroundColor:COLORS.primaryAccent,color:COLORS.background,boxShadow:`0 0 10px ${COLORS.buttonsGlow}`},children:\"Fetch Info\"})]}),searchedUserKyc&&/*#__PURE__*/// Display KYC info if a user is found\n_jsxs(\"div\",{className:\"mt-4 p-4 rounded-lg text-sm\",style:{backgroundColor:COLORS.tertiary,color:COLORS.typography},children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold\",style:{color:COLORS.primaryAccent},children:[\"KYC Details for \",searchedUserKyc.discordId,\":\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Full Name: \",searchedUserKyc.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Bank ID: \",searchedUserKyc.bankId||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{className:\"flex items-center\",children:[\"KYC Code: \",searchedUserKyc.kycCode,\" \",searchedUserKyc.kycCode&&/*#__PURE__*/_jsx(CheckCircle,{size:16,color:\"green\",className:\"ml-2\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Region: \",searchedUserKyc.region]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Date Joined: \",searchedUserKyc.dateJoined]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Credit Score: \",searchedUserKyc.creditScore]})]})]}),/*#__PURE__*/_jsxs(GlassCard,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-semibold mb-4\",style:{color:COLORS.primaryAccent},children:\"Update Credit Score\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdateCreditScore,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Discord ID or Bank ID\",value:targetUserId,onChange:e=>setTargetUserId(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"New Score (300-850)\",value:newCreditScore,onChange:e=>setNewCreditScore(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\",style:{backgroundColor:COLORS.primaryAccent,color:COLORS.background,boxShadow:`0 0 10px ${COLORS.buttonsGlow}`},children:\"Update Score\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-3xl font-bold mb-6 flex items-center\",style:{color:COLORS.typography},children:[/*#__PURE__*/_jsx(Award,{size:30,className:\"mr-3\"}),\" Role & Access Management\"]}),/*#__PURE__*/_jsxs(GlassCard,{className:\"p-8\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-semibold mb-4\",style:{color:COLORS.primaryAccent},children:\"Assign Tier Roles (VIP/Black/Partner)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Discord ID or Bank ID\",value:assignRoleUserId,onChange:e=>setAssignRoleUserId(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsxs(\"select\",{value:specialAccountType,onChange:e=>setSpecialAccountType(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography},children:[/*#__PURE__*/_jsx(\"option\",{value:\"VIP Client\",children:\"VIP Client\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Government Official\",children:\"Government Official\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Intelligence Agent\",children:\"Intelligence Agent\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAssignRole,className:\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\",style:{backgroundColor:COLORS.primaryAccent,color:COLORS.background,boxShadow:`0 0 10px ${COLORS.buttonsGlow}`},children:\"Assign Role\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 italic mt-4\",children:\"Restricted Access Controls: Shadow & Government account access limited to Super Admins (conceptual).\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-3xl font-bold mb-6 flex items-center\",style:{color:COLORS.typography},children:[/*#__PURE__*/_jsx(Settings,{size:30,className:\"mr-3\"}),\" User Account Controls\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(GlassCard,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-semibold mb-4\",style:{color:COLORS.primaryAccent},children:\"Auto-Created Personal Accounts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mb-4\",children:\"Personal accounts are auto-created upon initial registration (if approved by admin).\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert('Viewing auto-creation logs...'),className:\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\",style:{backgroundColor:COLORS.primaryAccent,color:COLORS.background,boxShadow:`0 0 10px ${COLORS.buttonsGlow}`},children:\"View Logs\"})]}),/*#__PURE__*/_jsxs(GlassCard,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-semibold mb-4\",style:{color:COLORS.primaryAccent},children:\"Create / Approve Special Accounts\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Savings Account\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Business Account\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Government Account\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Credit Card Account\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Investment Account\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Shadow Account\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Discord ID or Bank ID\",value:targetUserId,onChange:e=>setTargetUserId(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert('Granting special account access... (Handled via specific request queues)'),className:\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\",style:{backgroundColor:COLORS.primaryAccent,color:COLORS.background,boxShadow:`0 0 10px ${COLORS.buttonsGlow}`},children:\"Grant Access\"})]}),/*#__PURE__*/_jsxs(GlassCard,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-semibold mb-4\",style:{color:COLORS.primaryAccent},children:\"Account Security Options\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Discord ID or Bank ID\",value:targetUserId,onChange:e=>setTargetUserId(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleFreezeAccount,className:\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200 bg-red-600 hover:bg-red-500\",style:{boxShadow:`0 0 10px rgba(255,0,0,0.5)`},children:\"Lock / Freeze Account\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 italic mt-2\",children:\"Temporary Hold: Freezes all transactions for the user.\"})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-3xl font-bold mb-6 flex items-center\",style:{color:COLORS.typography},children:[/*#__PURE__*/_jsx(FileText,{size:30,className:\"mr-3\"}),\" Loans & Credit Tools\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(GlassCard,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-semibold mb-4\",style:{color:COLORS.primaryAccent},children:\"Loan Review Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mb-4\",children:\"View pending loan requests by type (Personal, Business, Mortgage, Government-backed).\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert('Viewing loan requests by type... (See \"Loan Requests Queue\" above)'),className:\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\",style:{backgroundColor:COLORS.primaryAccent,color:COLORS.background,boxShadow:`0 0 10px ${COLORS.buttonsGlow}`},children:\"View Requests by Type\"})]}),/*#__PURE__*/_jsxs(GlassCard,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-semibold mb-4\",style:{color:COLORS.primaryAccent},children:\"Apply Penalties\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Discord ID or Bank ID\",value:targetUserId,onChange:e=>setTargetUserId(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsxs(\"select\",{value:penaltyType,onChange:e=>setPenaltyType(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Missed Payment\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Loan Default\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Overused Credit\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Flagged by Auditor\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleApplyPenalty,className:\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200 bg-red-600 hover:bg-red-500\",style:{boxShadow:`0 0 10px rgba(255,0,0,0.5)`},children:\"Apply Penalty\"})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-3xl font-bold mb-6 flex items-center\",style:{color:COLORS.typography},children:[/*#__PURE__*/_jsx(BarChart,{size:30,className:\"mr-3\"}),\" Transactions & Reports\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(GlassCard,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-semibold mb-4\",style:{color:COLORS.primaryAccent},children:\"Generate Tax Reports\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Discord ID / Entity ID\",value:targetUserId,onChange:e=>setTargetUserId(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert('Generating tax report...'),className:\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-300\",style:{backgroundColor:COLORS.primaryAccent,color:COLORS.background,boxShadow:`0 0 10px ${COLORS.buttonsGlow}`},children:\"Generate Report\"})]}),/*#__PURE__*/_jsxs(GlassCard,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-semibold mb-4\",style:{color:COLORS.primaryAccent},children:\"View Audit Logs (Detailed)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Discord ID / Transaction ID\",value:targetUserId,onChange:e=>setTargetUserId(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert('Fetching audit logs...'),className:\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-300\",style:{backgroundColor:COLORS.primaryAccent,color:COLORS.background,boxShadow:`0 0 10px ${COLORS.buttonsGlow}`},children:\"Fetch Logs\"})]}),/*#__PURE__*/_jsxs(GlassCard,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-semibold mb-4\",style:{color:COLORS.primaryAccent},children:\"Undo / Fix Transactions\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Transaction ID / Error Log ID\",value:targetUserId,onChange:e=>setTargetUserId(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert('Correcting entry...'),className:\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-300\",style:{backgroundColor:COLORS.primaryAccent,color:COLORS.background,boxShadow:`0 0 10px ${COLORS.buttonsGlow}`},children:\"Correct Entry\"})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-3xl font-bold mb-6 flex items-center\",style:{color:COLORS.typography},children:[/*#__PURE__*/_jsx(Landmark,{size:30,className:\"mr-3\"}),\" Government Finance & Linkage\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(GlassCard,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-semibold mb-4\",style:{color:COLORS.primaryAccent},children:\"Deposit / Withdraw (Gov)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Government Account ID\",value:govAccountId,onChange:e=>setGovAccountId(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Amount\",value:govAmount,onChange:e=>setGovAmount(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleGovTransaction('deposit'),className:\"w-1/2 font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\",style:{backgroundColor:COLORS.primaryAccent,color:COLORS.background,boxShadow:`0 0 10px ${COLORS.buttonsGlow}`},children:\"Deposit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleGovTransaction('withdraw'),className:\"w-1/2 font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200 bg-orange-600 hover:bg-orange-500\",style:{boxShadow:`0 0 10px rgba(255,165,0,0.5)`},children:\"Withdraw\"})]})]}),/*#__PURE__*/_jsxs(GlassCard,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-semibold mb-4\",style:{color:COLORS.primaryAccent},children:\"Setup Ministry / Agency Account\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Ministry/Agency Name\",className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert('Setting up government account... (Handled via Account Requests Queue)'),className:\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\",style:{backgroundColor:COLORS.primaryAccent,color:COLORS.background,boxShadow:`0 0 10px ${COLORS.buttonsGlow}`},children:\"Setup Gov Account\"})]}),/*#__PURE__*/_jsxs(GlassCard,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-semibold mb-4\",style:{color:COLORS.primaryAccent},children:\"Link Business to User\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Discord ID or Bank ID\",value:businessLinkUserId,onChange:e=>setBusinessLinkUserId(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Business Reg. ID\",value:businessRegId,onChange:e=>setBusinessRegId(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLinkBusiness,className:\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\",style:{backgroundColor:COLORS.primaryAccent,color:COLORS.background,boxShadow:`0 0 10px ${COLORS.buttonsGlow}`},children:\"Link Business\"})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-3xl font-bold mb-6 flex items-center\",style:{color:COLORS.typography},children:[/*#__PURE__*/_jsx(Shield,{size:30,className:\"mr-3\"}),\" Intelligence & Security\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(GlassCard,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-semibold mb-4\",style:{color:COLORS.primaryAccent},children:\"Flag Suspicious Behavior\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Discord ID / Transaction ID\",value:targetUserId,onChange:e=>setTargetUserId(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert('Flagging for review...'),className:\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-300\",style:{backgroundColor:COLORS.primaryAccent,color:COLORS.background,boxShadow:`0 0 10px ${COLORS.buttonsGlow}`},children:\"Flag for Review\"})]}),/*#__PURE__*/_jsxs(GlassCard,{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-semibold mb-4\",style:{color:COLORS.primaryAccent},children:\"Ban User Access\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Discord ID or Bank ID\",value:targetUserId,onChange:e=>setTargetUserId(e.target.value),className:\"w-full p-3 border border-gray-600 rounded-lg mb-4\",style:{backgroundColor:COLORS.secondaryAccent,color:COLORS.typography}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBanUser,className:\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-300 bg-red-800 hover:bg-red-700\",style:{boxShadow:`0 0 10px rgba(255,0,0,0.7)`},children:\"Ban Account\"})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-3xl font-bold mb-6 flex items-center\",style:{color:COLORS.typography},children:[/*#__PURE__*/_jsx(Zap,{size:30,className:\"mr-3\"}),\" Automation Scripts (Read-Only)\"]}),/*#__PURE__*/_jsx(GlassCard,{className:\"p-8\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-3 text-gray-400\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",style:{color:COLORS.primaryAccent},children:\"Daily Auto-Credits:\"}),\" Deposits daily/weekly based on job ID or ministry payroll.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",style:{color:COLORS.primaryAccent},children:\"Low Balance Alert Bot:\"}),\" Alerts when account balance is low.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",style:{color:COLORS.primaryAccent},children:\"Monthly Tax Auto-Deduction:\"}),\" Deducts a percentage of income or transfer at set intervals.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",style:{color:COLORS.primaryAccent},children:\"End-of-Month Audit Script:\"}),\" Summarizes account health, credit rating, suspicious logs.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",style:{color:COLORS.primaryAccent},children:\"8-Hour Credit Tracker Update:\"}),\" Cycle system that updates credit automatically.\"]})]})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-3xl font-bold mb-6 flex items-center\",style:{color:COLORS.typography},children:[/*#__PURE__*/_jsx(Settings,{size:30,className:\"mr-3\"}),\" Advanced Admin Tools (Info Only)\"]}),/*#__PURE__*/_jsx(GlassCard,{className:\"p-8\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-3 text-gray-400\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",style:{color:COLORS.primaryAccent},children:\"Universal Search Bar:\"}),\" Search users by ID, name, or account type.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",style:{color:COLORS.primaryAccent},children:\"Global Audit Viewer:\"}),\" Filter logs by transaction, action, or risk flag.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",style:{color:COLORS.primaryAccent},children:\"Balance Adjust Tool:\"}),\" Manually increase/decrease any user or account balance.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",style:{color:COLORS.primaryAccent},children:\"Mass Role Editor:\"}),\" Batch assign or remove roles (e.g., VIP, Investor, Partner).\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",style:{color:COLORS.primaryAccent},children:\"Bulk Account Export:\"}),\" Export data by type: Personal / Gov / Business (Formats: CSV, XLSX).\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",style:{color:COLORS.primaryAccent},children:\"Interbank Transfer Log Viewer:\"}),\" View pending, approved, and flagged transfers.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",style:{color:COLORS.primaryAccent},children:\"Dashboard Filtering Toggle:\"}),\" Filter views by Account Type, Role Tier, Risk Status, Recent Activity.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",style:{color:COLORS.primaryAccent},children:\"Transaction Freeze Override:\"}),\" Approve or deny auto-frozen transactions on flagged accounts.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",style:{color:COLORS.primaryAccent},children:\"Force Emergency Lockdown:\"}),\" Temporarily lock all transfers system-wide for emergency review.\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert('Activating global lock... (Simulated)'),className:\"mt-4 font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200 bg-red-800 hover:bg-red-700\",style:{boxShadow:`0 0 10px rgba(255,0,0,0.7)`},children:\"Activate Global Lock\"})]})})]})]});};export default AdminDashboardLayout;","map":{"version":3,"names":["React","useState","useEffect","doc","updateDoc","collection","query","where","getDocs","getDoc","deleteDoc","onSnapshot","GlassCard","COLORS","CheckCircle","Search","CreditCard","DollarSign","FileText","User","Shield","Settings","Zap","BarChart","Lock","Ban","Award","ClipboardList","TrendingUp","Landmark","Truck","Building","FileBadge","Coins","Package","MapPin","jsx","_jsx","jsxs","_jsxs","AdminDashboardLayout","_ref","setUserProfile","db","appId","auth","targetUserId","setTargetUserId","newCreditScore","setNewCreditScore","penaltyType","setPenaltyType","kycSearchId","setKycSearchId","assignRoleUserId","setAssignRoleUserId","specialAccountType","setSpecialAccountType","accountRequests","setAccountRequests","creditCardRequests","setCreditCardRequests","depositRequests","setDepositRequests","withdrawalRequests","setWithdrawalRequests","loanRequests","setLoanRequests","searchedUserKyc","setSearchedUserKyc","govAccountId","setGovAccountId","govAmount","setGovAmount","businessLinkUserId","setBusinessLinkUserId","businessRegId","setBusinessRegId","youthAccountId","setYouthAccountId","generateDebitCardDetails","num","Array","fill","map","Math","floor","random","join","issueDate","Date","expiryDate","setFullYear","getFullYear","expiryMonth","String","getMonth","padStart","expiryYear","slice","cvv","pin","number","expiry","toISOString","currentUser","unsubscribeAccountRequests","snapshot","docs","id","data","error","console","unsubscribeCreditCardRequests","unsubscribeDepositRequests","unsubscribeWithdrawalRequests","unsubscribeLoanRequests","findUserByDiscordOrBankId","usersRef","q","includes","length","querySnapshot","empty","handleApproveDenyAccountRequest","requestId","status","requestDocRef","requestSnap","exists","alert","requestData","userDocRef","userId","currentUserSnap","currentUserData","depositAmount","initialDeposit","newBalance","balance","newAccounts","accounts","accountType","newTransactions","transactions","date","toLocaleDateString","description","amount","discordLink","discordMessageLink","updateData","debitCard","userName","toLowerCase","message","handleApproveDenyCreditCardRequest","approvalMessage","creditLimit","creditScore","toLocaleString","hasCreditCard","handleApproveDenyDepositRequest","Personal","toFixed","handleApproveDenyWithdrawalRequest","withdrawalAmount","sourceAccount","handleApproveDenyLoanRequest","loanType","loanHistory","some","loan","type","loanAmount","newLoanEntry","repaymentPeriod","interestRate","collateralLink","downPayment","propertyRegion","dateIssued","monthlyPayment","pow","handleFetchKycInfo","e","preventDefault","foundUser","handleUpdateCreditScore","score","parseInt","isNaN","discordId","bankId","prev","handleFreezeAccount","isFrozen","handleApplyPenalty","currentScore","penaltyAmount","newScore","max","handleAssignRole","specialRole","isVIP","handleBanUser","isBanned","handleGovTransaction","parseFloat","currentGovBalance","Government","currentBalance","newGovBalance","newOverallBalance","handleLinkBusiness","businessRegistrationId","isBusinessOwner","className","children","style","color","primaryAccent","typography","size","request","_request$initialDepos","backgroundColor","tertiary","onClick","_request$amount","href","target","rel","_request$amount2","_request$amount3","_request$downPayment","onSubmit","placeholder","value","onChange","secondaryAccent","background","boxShadow","buttonsGlow","name","kycCode","region","dateJoined"],"sources":["C:/Users/trent/OneDrive/Desktop/SberBank Website/src/components/AdminDashboardLayout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { doc, updateDoc, collection, query, where, getDocs, getDoc, deleteDoc, onSnapshot } from 'firebase/firestore'; // Added onSnapshot\r\nimport GlassCard from './common/GlassCard';\r\nimport { COLORS } from '../constants';\r\nimport { CheckCircle, Search, CreditCard, DollarSign, FileText, User, Shield, Settings, Zap, BarChart, Lock, Ban, Award, ClipboardList, TrendingUp, Landmark, Truck, Building, FileBadge, Coins, Package, MapPin } from 'lucide-react'; // Added more Lucide icons for new sections\r\n\r\nconst AdminDashboardLayout = ({ setUserProfile, db, appId, auth }) => {\r\n    const [targetUserId, setTargetUserId] = useState(''); // For targeting users by Discord ID\r\n    const [newCreditScore, setNewCreditScore] = useState('');\r\n    const [penaltyType, setPenaltyType] = useState('Missed Payment');\r\n    const [kycSearchId, setKycSearchId] = useState(''); // For searching by Discord ID or KYC Code\r\n    const [assignRoleUserId, setAssignRoleUserId] = useState(''); // Separate state for role assignment\r\n    const [specialAccountType, setSpecialAccountType] = useState('VIP Client');\r\n    const [accountRequests, setAccountRequests] = useState([]); // State for pending account requests\r\n    const [creditCardRequests, setCreditCardRequests] = useState([]); // State for pending credit card requests\r\n    const [depositRequests, setDepositRequests] = useState([]); // State for pending deposit requests\r\n    const [withdrawalRequests, setWithdrawalRequests] = useState([]); // State for pending withdrawal requests\r\n    const [loanRequests, setLoanRequests] = useState([]); // State for pending loan requests\r\n\r\n    const [searchedUserKyc, setSearchedUserKyc] = useState(null); // State for displaying searched user's KYC info\r\n    const [govAccountId, setGovAccountId] = useState(''); // For government deposits/withdrawals\r\n    const [govAmount, setGovAmount] = useState(''); // For government deposits/withdrawals\r\n    const [businessLinkUserId, setBusinessLinkUserId] = useState(''); // For linking business to user\r\n    const [businessRegId, setBusinessRegId] = useState(''); // For linking business to user\r\n    const [youthAccountId, setYouthAccountId] = useState(''); // For youth account graduation (removed from UI, but state exists)\r\n\r\n    // Helper to generate debit card details (copied from OpenSpecificAccountPage)\r\n    const generateDebitCardDetails = () => {\r\n        const num = Array(4).fill(0).map(() => Math.floor(1000 + Math.random() * 9000)).join(' ');\r\n        const issueDate = new Date('2005-01-01');\r\n        const expiryDate = new Date(issueDate);\r\n        expiryDate.setFullYear(expiryDate.getFullYear() + 7);\r\n        const expiryMonth = String(expiryDate.getMonth() + 1).padStart(2, '0');\r\n        const expiryYear = String(expiryDate.getFullYear()).slice(-2);\r\n        const cvv = String(Math.floor(100 + Math.random() * 900));\r\n        const pin = String(Math.floor(1000 + Math.random() * 9000));\r\n        return {\r\n            number: num,\r\n            expiry: `${expiryMonth}/${expiryYear}`,\r\n            cvv,\r\n            pin,\r\n            issueDate: issueDate.toISOString(),\r\n            expiryDate: expiryDate.toISOString(),\r\n        };\r\n    };\r\n\r\n    // Fetch all types of pending requests\r\n    useEffect(() => {\r\n        if (!db || !auth.currentUser) return; // Ensure db and authenticated user are available\r\n\r\n        // Set up real-time listeners for all request types\r\n        const unsubscribeAccountRequests = onSnapshot(query(collection(db, `artifacts/${appId}/public/data/accountRequests`), where(\"status\", \"==\", \"Pending\")), (snapshot) => {\r\n            setAccountRequests(snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n        }, (error) => console.error(\"Error listening to account requests:\", error));\r\n\r\n        const unsubscribeCreditCardRequests = onSnapshot(query(collection(db, `artifacts/${appId}/public/data/creditCardRequests`), where(\"status\", \"==\", \"Pending\")), (snapshot) => {\r\n            setCreditCardRequests(snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n        }, (error) => console.error(\"Error listening to credit card requests:\", error));\r\n\r\n        const unsubscribeDepositRequests = onSnapshot(query(collection(db, `artifacts/${appId}/public/data/depositRequests`), where(\"status\", \"==\", \"Pending\")), (snapshot) => {\r\n            setDepositRequests(snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n        }, (error) => console.error(\"Error listening to deposit requests:\", error));\r\n\r\n        const unsubscribeWithdrawalRequests = onSnapshot(query(collection(db, `artifacts/${appId}/public/data/withdrawalRequests`), where(\"status\", \"==\", \"Pending\")), (snapshot) => {\r\n            setWithdrawalRequests(snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n        }, (error) => console.error(\"Error listening to withdrawal requests:\", error));\r\n\r\n        const unsubscribeLoanRequests = onSnapshot(query(collection(db, `artifacts/${appId}/public/data/loanRequests`), where(\"status\", \"==\", \"Pending\")), (snapshot) => {\r\n            setLoanRequests(snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n        }, (error) => console.error(\"Error listening to loan requests:\", error));\r\n\r\n        return () => {\r\n            unsubscribeAccountRequests();\r\n            unsubscribeCreditCardRequests();\r\n            unsubscribeDepositRequests();\r\n            unsubscribeWithdrawalRequests();\r\n            unsubscribeLoanRequests();\r\n        };\r\n\r\n    }, [db, appId, auth.currentUser]); // Depend on db and appId to re-run if they change\r\n\r\n    // Generic function to find user by Discord ID or Bank ID\r\n    const findUserByDiscordOrBankId = async (id) => {\r\n        const usersRef = collection(db, `artifacts/${appId}/users`);\r\n        let q;\r\n        if (id.includes('#') || id.length < 8) { // Heuristic: Discord ID contains # or is shorter than typical Bank ID\r\n            q = query(usersRef, where(\"discordId\", \"==\", id));\r\n        } else { // Assume it's a Bank ID\r\n            q = query(usersRef, where(\"bankId\", \"==\", id));\r\n        }\r\n        const querySnapshot = await getDocs(q);\r\n        if (!querySnapshot.empty) {\r\n            return { id: querySnapshot.docs[0].id, data: querySnapshot.docs[0].data() };\r\n        }\r\n        return null;\r\n    };\r\n\r\n\r\n    // Handle approval or denial of an account request\r\n    const handleApproveDenyAccountRequest = async (requestId, status) => {\r\n        try {\r\n            const requestDocRef = doc(db, `artifacts/${appId}/public/data/accountRequests`, requestId);\r\n            const requestSnap = await getDoc(requestDocRef);\r\n            if (!requestSnap.exists()) {\r\n                alert('Account request not found.');\r\n                return;\r\n            }\r\n            const requestData = requestSnap.data();\r\n            const userDocRef = doc(db, `artifacts/${appId}/users`, requestData.userId);\r\n            const currentUserSnap = await getDoc(userDocRef);\r\n\r\n            if (!currentUserSnap.exists()) {\r\n                alert('User for this request not found. Request cannot be processed.');\r\n                await deleteDoc(requestDocRef); // Clean up orphaned request\r\n                return;\r\n            }\r\n            const currentUserData = currentUserSnap.data();\r\n\r\n            if (status === 'Approved') {\r\n                const depositAmount = requestData.initialDeposit;\r\n                const newBalance = currentUserData.balance + depositAmount;\r\n                const newAccounts = { ...currentUserData.accounts, [requestData.accountType]: (currentUserData.accounts[requestData.accountType] || 0) + depositAmount };\r\n                const newTransactions = [...currentUserData.transactions, {\r\n                    date: new Date().toLocaleDateString('en-US'),\r\n                    description: `${requestData.accountType} Account Opened (Admin Approved)`,\r\n                    amount: depositAmount,\r\n                    status: 'Complete',\r\n                    discordLink: requestData.discordMessageLink\r\n                }];\r\n\r\n                const updateData = {\r\n                    balance: newBalance,\r\n                    accounts: newAccounts,\r\n                    transactions: newTransactions,\r\n                };\r\n\r\n                // Only generate debit card if it's a Personal account AND they don't already have one\r\n                if (requestData.accountType === 'Personal' && !currentUserData.debitCard) {\r\n                    updateData.debitCard = generateDebitCardDetails();\r\n                }\r\n                await updateDoc(userDocRef, updateData);\r\n                alert(`${requestData.accountType} account for ${requestData.userName} approved. Balance updated.`);\r\n            } else {\r\n                alert(`${requestData.accountType} account for ${requestData.userName} denied.`);\r\n            }\r\n            await updateDoc(requestDocRef, { status: status }); // Update request status\r\n            // No need to manually filter state, onSnapshot will handle it\r\n        } catch (error) {\r\n            console.error(`Error ${status.toLowerCase()} account request:`, error);\r\n            alert(`Failed to ${status.toLowerCase()} account request: ${error.message}`);\r\n        }\r\n    };\r\n\r\n    // Handle approval/denial of Credit Card Requests\r\n    const handleApproveDenyCreditCardRequest = async (requestId, status) => {\r\n        try {\r\n            const requestDocRef = doc(db, `artifacts/${appId}/public/data/creditCardRequests`, requestId);\r\n            const requestSnap = await getDoc(requestDocRef);\r\n            if (!requestSnap.exists()) {\r\n                alert('Credit Card request not found.');\r\n                return;\r\n            }\r\n            const requestData = requestSnap.data();\r\n            const userDocRef = doc(db, `artifacts/${appId}/users`, requestData.userId);\r\n            const currentUserSnap = await getDoc(userDocRef);\r\n            if (!currentUserSnap.exists()) {\r\n                alert('User for this request not found. Request cannot be processed.');\r\n                await deleteDoc(requestDocRef);\r\n                return;\r\n            }\r\n            const currentUserData = currentUserSnap.data();\r\n\r\n            let approvalMessage = '';\r\n            let creditLimit = 0;\r\n\r\n            if (status === 'Approved') {\r\n                // Determine credit limit based on credit score\r\n                if (requestData.creditScore >= 750) {\r\n                    creditLimit = 20000; // Premium\r\n                    approvalMessage = `Credit Card approved for ${requestData.userName} with a ₽${creditLimit.toLocaleString()} limit (Premium).`;\r\n                } else if (requestData.creditScore >= 600) {\r\n                    creditLimit = 15000; // Standard\r\n                    approvalMessage = `Credit Card approved for ${requestData.userName} with a ₽${creditLimit.toLocaleString()} limit.`;\r\n                } else if (requestData.creditScore >= 500) {\r\n                    creditLimit = 5000; // Low Limit / Manual Review\r\n                    approvalMessage = `Credit Card approved for ${requestData.userName} with a ₽${creditLimit.toLocaleString()} limit (Manual Review).`;\r\n                } else {\r\n                    status = 'Denied'; // Override to denied if score is too low\r\n                    approvalMessage = `Credit Card denied for ${requestData.userName} (Score too low: ${requestData.creditScore}).`;\r\n                }\r\n\r\n                if (status === 'Approved') {\r\n                    await updateDoc(userDocRef, {\r\n                        hasCreditCard: true,\r\n                        'accounts.CreditCard': creditLimit, // Set the initial credit limit as balance\r\n                        transactions: [...currentUserData.transactions, {\r\n                            date: new Date().toLocaleDateString('en-US'),\r\n                            description: `Credit Card Approved (Limit: ₽${creditLimit.toLocaleString()})`,\r\n                            amount: 0, // No direct fund transfer\r\n                            status: 'Complete'\r\n                        }]\r\n                    });\r\n                }\r\n            } else {\r\n                approvalMessage = `Credit Card denied for ${requestData.userName}.`;\r\n            }\r\n\r\n            await updateDoc(requestDocRef, { status: status, creditLimit: creditLimit });\r\n            alert(approvalMessage);\r\n        } catch (error) {\r\n            console.error(`Error ${status.toLowerCase()} credit card request:`, error);\r\n            alert(`Failed to ${status.toLowerCase()} credit card request: ${error.message}`);\r\n        }\r\n    };\r\n\r\n    // Handle approval/denial of Deposit Requests\r\n    const handleApproveDenyDepositRequest = async (requestId, status) => {\r\n        try {\r\n            const requestDocRef = doc(db, `artifacts/${appId}/public/data/depositRequests`, requestId);\r\n            const requestSnap = await getDoc(requestDocRef);\r\n            if (!requestSnap.exists()) {\r\n                alert('Deposit request not found.');\r\n                return;\r\n            }\r\n            const requestData = requestSnap.data();\r\n            const userDocRef = doc(db, `artifacts/${appId}/users`, requestData.userId);\r\n            const currentUserSnap = await getDoc(userDocRef);\r\n            if (!currentUserSnap.exists()) {\r\n                alert('User for this request not found. Request cannot be processed.');\r\n                await deleteDoc(requestDocRef);\r\n                return;\r\n            }\r\n            const currentUserData = currentUserSnap.data();\r\n\r\n            if (status === 'Approved') {\r\n                const depositAmount = requestData.amount;\r\n                await updateDoc(userDocRef, {\r\n                    balance: currentUserData.balance + depositAmount,\r\n                    'accounts.Personal': (currentUserData.accounts.Personal || 0) + depositAmount, // Assume deposit to personal\r\n                    transactions: [...currentUserData.transactions, {\r\n                        date: new Date().toLocaleDateString('en-US'),\r\n                        description: `Deposit Approved (Proof: ${requestData.discordLink})`,\r\n                        amount: depositAmount,\r\n                        status: 'Complete'\r\n                    }]\r\n                });\r\n                alert(`Deposit of ${depositAmount.toFixed(2)} RUB for ${requestData.userName} approved.`);\r\n            } else {\r\n                alert(`Deposit request for ${requestData.userName} denied.`);\r\n            }\r\n            await updateDoc(requestDocRef, { status: status });\r\n        } catch (error) {\r\n            console.error(`Error ${status.toLowerCase()} deposit request:`, error);\r\n            alert(`Failed to ${status.toLowerCase()} deposit request: ${error.message}`);\r\n        }\r\n    };\r\n\r\n    // Handle approval/denial of Withdrawal Requests\r\n    const handleApproveDenyWithdrawalRequest = async (requestId, status) => {\r\n        try {\r\n            const requestDocRef = doc(db, `artifacts/${appId}/public/data/withdrawalRequests`, requestId);\r\n            const requestSnap = await getDoc(requestDocRef);\r\n            if (!requestSnap.exists()) {\r\n                alert('Withdrawal request not found.');\r\n                return;\r\n            }\r\n            const requestData = requestSnap.data();\r\n            const userDocRef = doc(db, `artifacts/${appId}/users`, requestData.userId);\r\n            const currentUserSnap = await getDoc(userDocRef);\r\n            if (!currentUserSnap.exists()) {\r\n                alert('User for this request not found. Request cannot be processed.');\r\n                await deleteDoc(requestDocRef);\r\n                return;\r\n            }\r\n            const currentUserData = currentUserSnap.data();\r\n\r\n            if (status === 'Approved') {\r\n                const withdrawalAmount = requestData.amount;\r\n                const sourceAccount = requestData.sourceAccount;\r\n\r\n                if ((currentUserData.accounts[sourceAccount] || 0) < withdrawalAmount) {\r\n                    alert(`User ${requestData.userName} has insufficient funds in ${sourceAccount} for this withdrawal. Denying.`);\r\n                    status = 'Denied'; // Force deny if funds are truly insufficient\r\n                } else {\r\n                    await updateDoc(userDocRef, {\r\n                        [`accounts.${sourceAccount}`]: (currentUserData.accounts[sourceAccount] || 0) - withdrawalAmount,\r\n                        balance: currentUserData.balance - withdrawalAmount,\r\n                        transactions: [...currentUserData.transactions, {\r\n                            date: new Date().toLocaleDateString('en-US'),\r\n                            description: `Withdrawal Approved from ${sourceAccount}`,\r\n                            amount: -withdrawalAmount,\r\n                            status: 'Complete'\r\n                        }]\r\n                    });\r\n                    alert(`Withdrawal of ${withdrawalAmount.toFixed(2)} RUB from ${sourceAccount} for ${requestData.userName} approved.`);\r\n                }\r\n            } else {\r\n                alert(`Withdrawal request for ${requestData.userName} denied.`);\r\n            }\r\n            await updateDoc(requestDocRef, { status: status });\r\n        } catch (error) {\r\n            console.error(`Error ${status.toLowerCase()} withdrawal request:`, error);\r\n            alert(`Failed to ${status.toLowerCase()} withdrawal request: ${error.message}`);\r\n        }\r\n    };\r\n\r\n    // Handle approval/denial of Loan Requests\r\n    const handleApproveDenyLoanRequest = async (requestId, status) => {\r\n        try {\r\n            const requestDocRef = doc(db, `artifacts/${appId}/public/data/loanRequests`, requestId);\r\n            const requestSnap = await getDoc(requestDocRef);\r\n            if (!requestSnap.exists()) {\r\n                alert('Loan request not found.');\r\n                return;\r\n            }\r\n            const requestData = requestSnap.data();\r\n            const userDocRef = doc(db, `artifacts/${appId}/users`, requestData.userId);\r\n            const currentUserSnap = await getDoc(userDocRef);\r\n            if (!currentUserSnap.exists()) {\r\n                alert('User for this request not found. Request cannot be processed.');\r\n                await deleteDoc(requestDocRef);\r\n                return;\r\n            }\r\n            const currentUserData = currentUserSnap.data();\r\n\r\n            if (status === 'Approved') {\r\n                // Check if user already has an active loan of this type (if limited)\r\n                if (requestData.loanType === 'Personal Loan' && (currentUserData.loanHistory || []).some(loan => loan.type === 'Personal Loan' && loan.status === 'Active')) {\r\n                    alert(`User ${requestData.userName} already has an active Personal Loan. Denying this request.`);\r\n                    status = 'Denied'; // Force deny if already has an active personal loan\r\n                } else {\r\n                    const loanAmount = requestData.amount;\r\n                    const newLoanEntry = {\r\n                        id: requestId, // Link loan history to request ID\r\n                        type: requestData.loanType,\r\n                        amount: loanAmount,\r\n                        repaymentPeriod: requestData.repaymentPeriod,\r\n                        interestRate: requestData.interestRate,\r\n                        collateralLink: requestData.collateralLink || null,\r\n                        downPayment: requestData.downPayment || 0,\r\n                        propertyRegion: requestData.propertyRegion || '',\r\n                        dateIssued: new Date().toLocaleDateString('en-US'),\r\n                        status: 'Active', // Mark as active\r\n                        // Simulate monthly payment calculation for display\r\n                        monthlyPayment: (loanAmount * (requestData.interestRate / 12 * Math.pow(1 + requestData.interestRate / 12, requestData.repaymentPeriod)) / (Math.pow(1 + requestData.interestRate / 12, requestData.repaymentPeriod) - 1)) || 0,\r\n                    };\r\n\r\n                    await updateDoc(userDocRef, {\r\n                        balance: currentUserData.balance + loanAmount,\r\n                        'accounts.Personal': (currentUserData.accounts.Personal || 0) + loanAmount, // Loans typically go to personal account\r\n                        transactions: [...currentUserData.transactions, {\r\n                            date: new Date().toLocaleDateString('en-US'),\r\n                            description: `Loan Approved: ${requestData.loanType} (ID: ${requestId})`,\r\n                            amount: loanAmount,\r\n                            status: 'Complete'\r\n                        }],\r\n                        loanHistory: [...(currentUserData.loanHistory || []), newLoanEntry] // Add to loan history\r\n                    });\r\n                    alert(`${requestData.loanType} loan for ${requestData.userName} approved for ₽${loanAmount.toLocaleString()}.`);\r\n                }\r\n            } else {\r\n                alert(`Loan request for ${requestData.userName} denied.`);\r\n            }\r\n            await updateDoc(requestDocRef, { status: status });\r\n        } catch (error) {\r\n            console.error(`Error ${status.toLowerCase()} loan request:`, error);\r\n            alert(`Failed to ${status.toLowerCase()} loan request: ${error.message}`);\r\n        }\r\n    };\r\n\r\n\r\n    const handleFetchKycInfo = async (e) => {\r\n        e.preventDefault();\r\n        if (!kycSearchId) {\r\n            alert('Please enter a Discord ID or KYC Code.');\r\n            return;\r\n        }\r\n        try {\r\n            const foundUser = await findUserByDiscordOrBankId(kycSearchId);\r\n            if (foundUser) {\r\n                setSearchedUserKyc(foundUser.data); // Set found user data to state\r\n            } else {\r\n                setSearchedUserKyc(null); // Reset if not found\r\n                alert('User not found.');\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching KYC info:\", error);\r\n            alert(`Failed to fetch KYC info: ${error.message}`);\r\n        }\r\n    };\r\n\r\n    // Handle updating a user's credit score\r\n    const handleUpdateCreditScore = async (e) => {\r\n        e.preventDefault();\r\n        const score = parseInt(newCreditScore);\r\n        if (isNaN(score) || score < 300 || score > 850) {\r\n            alert('Please enter a valid credit score between 300 and 850.');\r\n            return;\r\n        }\r\n        if (!targetUserId) {\r\n            alert('Please enter a User ID to update credit score.');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const foundUser = await findUserByDiscordOrBankId(targetUserId);\r\n            if (foundUser) {\r\n                const userDocRef = doc(db, `artifacts/${appId}/users`, foundUser.id);\r\n                await updateDoc(userDocRef, { creditScore: score }); // Update credit score in Firestore\r\n                alert(`Credit score for ${targetUserId} updated to ${score}.`);\r\n                setNewCreditScore('');\r\n                setTargetUserId('');\r\n                // If the searched user's KYC info is displayed, update it\r\n                if (searchedUserKyc && (searchedUserKyc.discordId === targetUserId || searchedUserKyc.bankId === targetUserId)) {\r\n                    setSearchedUserKyc(prev => ({ ...prev, creditScore: score }));\r\n                }\r\n            } else {\r\n                alert('User not found.');\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error updating credit score:\", error);\r\n            alert(`Failed to update credit score: ${error.message}`);\r\n        }\r\n    };\r\n\r\n    // Handle freezing a user's account\r\n    const handleFreezeAccount = async () => {\r\n        if (!targetUserId) {\r\n            alert('Please enter a User ID to freeze.');\r\n            return;\r\n        }\r\n        try {\r\n            const foundUser = await findUserByDiscordOrBankId(targetUserId);\r\n            if (foundUser) {\r\n                const userDocRef = doc(db, `artifacts/${appId}/users`, foundUser.id);\r\n                await updateDoc(userDocRef, { isFrozen: true }); // Set isFrozen flag to true\r\n                alert(`Account for ${targetUserId} frozen.`);\r\n                setTargetUserId('');\r\n            } else {\r\n                alert('User not found.');\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error freezing account:\", error);\r\n            alert(`Failed to freeze account: ${error.message}`);\r\n        }\r\n    };\r\n\r\n    // Handle applying a penalty to a user's credit score\r\n    const handleApplyPenalty = async () => {\r\n        if (!targetUserId) {\r\n            alert('Please enter a User ID to apply penalty.');\r\n            return;\r\n        }\r\n        try {\r\n            const foundUser = await findUserByDiscordOrBankId(targetUserId);\r\n            if (foundUser) {\r\n                const userDocRef = doc(db, `artifacts/${appId}/users`, foundUser.id);\r\n                const currentScore = foundUser.data.creditScore;\r\n                let penaltyAmount = 0;\r\n                // Determine penalty amount based on type\r\n                switch (penaltyType) {\r\n                    case 'Missed Payment': penaltyAmount = 15; break;\r\n                    case 'Loan Default': penaltyAmount = 25; break;\r\n                    case 'Overused Credit': penaltyAmount = 10; break;\r\n                    case 'Flagged by Auditor': penaltyAmount = 30; break;\r\n                    default: break;\r\n                }\r\n                const newScore = Math.max(300, currentScore - penaltyAmount); // Ensure score doesn't go below 300\r\n                await updateDoc(userDocRef, { creditScore: newScore }); // Update credit score\r\n                alert(`Penalty \"${penaltyType}\" applied to ${targetUserId}. Credit score updated to ${newScore}.`);\r\n                setTargetUserId('');\r\n                // If the searched user's KYC info is displayed, update it\r\n                if (searchedUserKyc && (searchedUserKyc.discordId === targetUserId || searchedUserKyc.bankId === targetUserId)) {\r\n                    setSearchedUserKyc(prev => ({ ...prev, creditScore: newScore }));\r\n                }\r\n            } else {\r\n                alert('User not found.');\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error applying penalty:\", error);\r\n            alert(`Failed to apply penalty: ${error.message}`);\r\n        }\r\n    };\r\n\r\n    // Handle assigning a special role to a user\r\n    const handleAssignRole = async () => {\r\n        if (!assignRoleUserId) {\r\n            alert('Please enter a User ID to assign role.');\r\n            return;\r\n        }\r\n        try {\r\n            const foundUser = await findUserByDiscordOrBankId(assignRoleUserId);\r\n            if (foundUser) {\r\n                const userDocRef = doc(db, `artifacts/${appId}/users`, foundUser.id);\r\n                // Update specialRole and isVIP flag\r\n                await updateDoc(userDocRef, { specialRole: specialAccountType, isVIP: specialAccountType === 'VIP Client' });\r\n                alert(`Special role \"${specialAccountType}\" assigned to ${assignRoleUserId}.`);\r\n                setAssignRoleUserId('');\r\n            } else {\r\n                alert('User not found.');\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error assigning role:\", error);\r\n            alert(`Failed to assign role: ${error.message}`);\r\n        }\r\n    };\r\n\r\n    // Handle banning a user\r\n    const handleBanUser = async () => {\r\n        if (!targetUserId) {\r\n            alert('Please enter a User ID to ban.');\r\n            return;\r\n        }\r\n        try {\r\n            const foundUser = await findUserByDiscordOrBankId(targetUserId);\r\n            if (foundUser) {\r\n                const userDocRef = doc(db, `artifacts/${appId}/users`, foundUser.id);\r\n                await updateDoc(userDocRef, { isBanned: true }); // Set isBanned flag to true\r\n                alert(`User ${targetUserId} banned.`);\r\n                setTargetUserId('');\r\n            } else {\r\n                alert('User not found.');\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error banning user:\", error);\r\n            alert(`Failed to ban user: ${error.message}`);\r\n        }\r\n    };\r\n\r\n    // Handle Government Deposit/Withdrawal\r\n    const handleGovTransaction = async (type) => {\r\n        const amount = parseFloat(govAmount);\r\n        if (isNaN(amount) || amount <= 0 || !govAccountId) {\r\n            alert('Please enter a valid amount and Government Account ID.');\r\n            return;\r\n        }\r\n        try {\r\n            const foundUser = await findUserByDiscordOrBankId(govAccountId); // Assuming gov accounts also have a bankId or discordId\r\n            // A more robust check would be to verify if the foundUser.data.accountType is indeed 'Government'\r\n            // For now, we'll proceed if user is found.\r\n            if (!foundUser) {\r\n                alert('Government Account not found.');\r\n                return;\r\n            }\r\n            const userDocRef = doc(db, `artifacts/${appId}/users`, foundUser.id);\r\n            const currentGovBalance = foundUser.data.accounts.Government || 0;\r\n            const currentBalance = foundUser.data.balance || 0;\r\n\r\n            let newGovBalance = currentGovBalance;\r\n            let newOverallBalance = currentBalance;\r\n            let description = '';\r\n\r\n            if (type === 'deposit') {\r\n                newGovBalance += amount;\r\n                newOverallBalance += amount;\r\n                description = `Government Deposit by Admin`;\r\n            } else { // withdrawal\r\n                if (currentGovBalance < amount) {\r\n                    alert('Insufficient funds in Government Account.');\r\n                    return;\r\n                }\r\n                newGovBalance -= amount;\r\n                newOverallBalance -= amount;\r\n                description = `Government Withdrawal by Admin`;\r\n            }\r\n\r\n            await updateDoc(userDocRef, {\r\n                'accounts.Government': newGovBalance,\r\n                balance: newOverallBalance,\r\n                transactions: [...(foundUser.data.transactions || []), {\r\n                    date: new Date().toLocaleDateString('en-US'),\r\n                    description: description,\r\n                    amount: type === 'deposit' ? amount : -amount,\r\n                    status: 'Complete'\r\n                }]\r\n            });\r\n            alert(`${type === 'deposit' ? 'Deposited' : 'Withdrew'} ${amount.toFixed(2)} RUB for Government Account ${govAccountId}.`);\r\n            setGovAccountId('');\r\n            setGovAmount('');\r\n        } catch (error) {\r\n            console.error(`Error during Government ${type}:`, error);\r\n            alert(`Failed to perform Government ${type}: ${error.message}`);\r\n        }\r\n    };\r\n\r\n    // Handle linking business to user\r\n    const handleLinkBusiness = async () => {\r\n        if (!businessLinkUserId || !businessRegId) {\r\n            alert('Please enter both User ID and Business Registration ID.');\r\n            return;\r\n        }\r\n        try {\r\n            const foundUser = await findUserByDiscordOrBankId(businessLinkUserId);\r\n            if (foundUser) {\r\n                const userDocRef = doc(db, `artifacts/${appId}/users`, foundUser.id);\r\n                await updateDoc(userDocRef, {\r\n                    businessRegistrationId: businessRegId, // Add a new field for business registration\r\n                    // Optionally, set a flag if this user is a business owner\r\n                    isBusinessOwner: true\r\n                });\r\n                alert(`Business Registration ID ${businessRegId} linked to user ${businessLinkUserId}.`);\r\n                setBusinessLinkUserId('');\r\n                setBusinessRegId('');\r\n            } else {\r\n                alert('User not found.');\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error linking business:\", error);\r\n            alert(`Failed to link business: ${error.message}`);\r\n        }\r\n    };\r\n\r\n    // Handle Youth Account Graduation (Placeholder - removed from UI but keeping function for now)\r\n    // const handleGraduateYouthAccount = async () => {\r\n    //     if (!youthAccountId) {\r\n    //         alert('Please enter a Youth Account ID.');\r\n    //         return;\r\n    //     }\r\n    //     alert(`Simulating graduation for Youth Account ${youthAccountId}. (Functionality not fully implemented)`);\r\n    //     setYouthAccountId('');\r\n    // };\r\n\r\n\r\n    return (\r\n        <div className=\"container mx-auto px-4 py-8\">\r\n            <h2 className=\"text-4xl font-extrabold mb-8 text-center drop-shadow-sm\" style={{ color: COLORS.primaryAccent }}>🛠️ Administrative Dashboard (Main Panel)</h2>\r\n\r\n            {/* Account Requests Queue */}\r\n            <section className=\"mb-12\">\r\n                <h3 className=\"text-3xl font-bold mb-6 flex items-center\" style={{ color: COLORS.typography }}><ClipboardList size={30} className=\"mr-3\" /> Account Requests Queue</h3>\r\n                <GlassCard className=\"p-8\">\r\n                    {accountRequests.length === 0 ? (\r\n                        <p className=\"text-gray-400 text-center\">No pending account requests.</p>\r\n                    ) : (\r\n                        <ul className=\"space-y-3 mb-4\">\r\n                            {accountRequests.map(request => (\r\n                                <li key={request.id} className=\"p-3 rounded-lg flex justify-between items-center\" style={{ backgroundColor: COLORS.tertiary }}>\r\n                                    <span>{request.userName} - {request.accountType} Account (Deposit: {request.initialDeposit?.toFixed(2) || 0} RUB)</span>\r\n                                    <div className=\"space-x-2\">\r\n                                        <button onClick={() => handleApproveDenyAccountRequest(request.id, 'Approved')} className=\"px-4 py-1 rounded-full bg-green-600 text-white text-sm\">Approve</button>\r\n                                        <button onClick={() => handleApproveDenyAccountRequest(request.id, 'Denied')} className=\"px-4 py-1 rounded-full bg-red-600 text-white text-sm\">Deny</button>\r\n                                    </div>\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    )}\r\n                    <p className=\"text-sm text-gray-400 italic mt-4\">Review applications for Personal, Savings, Business, Government, and Shadow accounts here.</p>\r\n                </GlassCard>\r\n            </section>\r\n\r\n            {/* Credit Card Requests Queue */}\r\n            <section className=\"mb-12\">\r\n                <h3 className=\"text-3xl font-bold mb-6 flex items-center\" style={{ color: COLORS.typography }}><CreditCard size={30} className=\"mr-3\" /> Credit Card Requests Queue</h3>\r\n                <GlassCard className=\"p-8\">\r\n                    {creditCardRequests.length === 0 ? (\r\n                        <p className=\"text-gray-400 text-center\">No pending credit card requests.</p>\r\n                    ) : (\r\n                        <ul className=\"space-y-3 mb-4\">\r\n                            {creditCardRequests.map(request => (\r\n                                <li key={request.id} className=\"p-3 rounded-lg flex justify-between items-center\" style={{ backgroundColor: COLORS.tertiary }}>\r\n                                    <span>{request.userName} - Credit Card (Score: {request.creditScore})</span>\r\n                                    <div className=\"space-x-2\">\r\n                                        <button onClick={() => handleApproveDenyCreditCardRequest(request.id, 'Approved')} className=\"px-4 py-1 rounded-full bg-green-600 text-white text-sm\">Approve</button>\r\n                                        <button onClick={() => handleApproveDenyCreditCardRequest(request.id, 'Denied')} className=\"px-4 py-1 rounded-full bg-red-600 text-white text-sm\">Deny</button>\r\n                                    </div>\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    )}\r\n                    <p className=\"text-sm text-gray-400 italic mt-4\">Credit card applications are reviewed here. Approval based on credit score tiers.</p>\r\n                </GlassCard>\r\n            </section>\r\n\r\n            {/* Deposit Requests Queue */}\r\n            <section className=\"mb-12\">\r\n                <h3 className=\"text-3xl font-bold mb-6 flex items-center\" style={{ color: COLORS.typography }}><Coins size={30} className=\"mr-3\" /> Deposit Requests Queue</h3>\r\n                <GlassCard className=\"p-8\">\r\n                    {depositRequests.length === 0 ? (\r\n                        <p className=\"text-gray-400 text-center\">No pending deposit requests.</p>\r\n                    ) : (\r\n                        <ul className=\"space-y-3 mb-4\">\r\n                            {depositRequests.map(request => (\r\n                                <li key={request.id} className=\"p-3 rounded-lg flex justify-between items-center\" style={{ backgroundColor: COLORS.tertiary }}>\r\n                                    <span>{request.userName} - Deposit of {request.amount?.toFixed(2) || 0} RUB (Proof: <a href={request.discordLink} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-400 hover:underline\">Link</a>)</span>\r\n                                    <div className=\"space-x-2\">\r\n                                        <button onClick={() => handleApproveDenyDepositRequest(request.id, 'Approved')} className=\"px-4 py-1 rounded-full bg-green-600 text-white text-sm\">Approve</button>\r\n                                        <button onClick={() => handleApproveDenyDepositRequest(request.id, 'Denied')} className=\"px-4 py-1 rounded-full bg-red-600 text-white text-sm\">Deny</button>\r\n                                    </div>\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    )}\r\n                    <p className=\"text-sm text-gray-400 italic mt-4\">Review user deposit requests with provided Discord proof of payment.</p>\r\n                </GlassCard>\r\n            </section>\r\n\r\n            {/* Withdrawal Requests Queue */}\r\n            <section className=\"mb-12\">\r\n                <h3 className=\"text-3xl font-bold mb-6 flex items-center\" style={{ color: COLORS.typography }}><DollarSign size={30} className=\"mr-3\" /> Withdrawal Requests Queue</h3>\r\n                <GlassCard className=\"p-8\">\r\n                    {withdrawalRequests.length === 0 ? (\r\n                        <p className=\"text-gray-400 text-center\">No pending withdrawal requests.</p>\r\n                    ) : (\r\n                        <ul className=\"space-y-3 mb-4\">\r\n                            {withdrawalRequests.map(request => (\r\n                                <li key={request.id} className=\"p-3 rounded-lg flex justify-between items-center\" style={{ backgroundColor: COLORS.tertiary }}>\r\n                                    <span>{request.userName} - Withdrawal of {request.amount?.toFixed(2) || 0} RUB from {request.sourceAccount}</span>\r\n                                    <div className=\"space-x-2\">\r\n                                        <button onClick={() => handleApproveDenyWithdrawalRequest(request.id, 'Approved')} className=\"px-4 py-1 rounded-full bg-green-600 text-white text-sm\">Approve</button>\r\n                                        <button onClick={() => handleApproveDenyWithdrawalRequest(request.id, 'Denied')} className=\"px-4 py-1 rounded-full bg-red-600 text-white text-sm\">Deny</button>\r\n                                    </div>\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    )}\r\n                    <p className=\"text-sm text-gray-400 italic mt-4\">Review user withdrawal requests. Funds will be deducted from the specified source account upon approval.</p>\r\n                </GlassCard>\r\n            </section>\r\n\r\n            {/* Loan Requests Queue */}\r\n            <section className=\"mb-12\">\r\n                <h3 className=\"text-3xl font-bold mb-6 flex items-center\" style={{ color: COLORS.typography }}><FileText size={30} className=\"mr-3\" /> Loan Requests Queue</h3>\r\n                <GlassCard className=\"p-8\">\r\n                    {loanRequests.length === 0 ? (\r\n                        <p className=\"text-gray-400 text-center\">No pending loan requests.</p>\r\n                    ) : (\r\n                        <ul className=\"space-y-3 mb-4\">\r\n                            {loanRequests.map(request => (\r\n                                <li key={request.id} className=\"p-3 rounded-lg flex flex-col items-start\" style={{ backgroundColor: COLORS.tertiary }}>\r\n                                    <div className=\"flex justify-between w-full mb-2\">\r\n                                        <span>{request.userName} - {request.loanType} Request: {request.amount?.toFixed(2) || 0} RUB</span>\r\n                                        <div className=\"space-x-2\">\r\n                                            <button onClick={() => handleApproveDenyLoanRequest(request.id, 'Approved')} className=\"px-4 py-1 rounded-full bg-green-600 text-white text-sm\">Approve</button>\r\n                                            <button onClick={() => handleApproveDenyLoanRequest(request.id, 'Denied')} className=\"px-4 py-1 rounded-full bg-red-600 text-white text-sm\">Deny</button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <p className=\"text-sm text-gray-400\">Credit Score: {request.creditScore}, Term: {request.repaymentPeriod} months, Rate: {(request.interestRate * 100).toFixed(2)}%</p>\r\n                                    {request.collateralLink && (\r\n                                        <p className=\"text-sm text-gray-400\">Collateral: <a href={request.collateralLink} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-400 hover:underline\">Link to Asset Proof</a></p>\r\n                                    )}\r\n                                    {request.loanType === 'Mortgage Loan' && (\r\n                                        <p className=\"text-sm text-gray-400\">Down Payment: {request.downPayment?.toFixed(2) || 0} RUB, Property Region: {request.propertyRegion}</p>\r\n                                    )}\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    )}\r\n                    <p className=\"text-sm text-gray-400 italic mt-4\">Review loan applications. Approval is based on credit score, loan type, and collateral requirements.</p>\r\n                </GlassCard>\r\n            </section>\r\n\r\n\r\n            {/* KYC & Identity Management */}\r\n            <section className=\"mb-12\">\r\n                <h3 className=\"text-3xl font-bold mb-6 flex items-center\" style={{ color: COLORS.typography }}><User size={30} className=\"mr-3\" /> KYC & Identity Management</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <GlassCard className=\"p-6\">\r\n                        <h4 className=\"text-2xl font-semibold mb-4\" style={{ color: COLORS.primaryAccent }}>Fetch KYC Info</h4>\r\n                        <form onSubmit={handleFetchKycInfo} className=\"space-y-4\">\r\n                            <input type=\"text\" placeholder=\"User Discord ID or Bank ID\" value={kycSearchId} onChange={(e) => setKycSearchId(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                            <button type=\"submit\" className=\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\" style={{ backgroundColor: COLORS.primaryAccent, color: COLORS.background, boxShadow: `0 0 10px ${COLORS.buttonsGlow}` }}>Fetch Info</button>\r\n                        </form>\r\n                        {searchedUserKyc && ( // Display KYC info if a user is found\r\n                            <div className=\"mt-4 p-4 rounded-lg text-sm\" style={{ backgroundColor: COLORS.tertiary, color: COLORS.typography }}>\r\n                                <p className=\"font-semibold\" style={{ color: COLORS.primaryAccent }}>KYC Details for {searchedUserKyc.discordId}:</p>\r\n                                <p>Full Name: {searchedUserKyc.name}</p>\r\n                                <p>Bank ID: {searchedUserKyc.bankId || 'N/A'}</p>\r\n                                <p className=\"flex items-center\">KYC Code: {searchedUserKyc.kycCode} {searchedUserKyc.kycCode && <CheckCircle size={16} color=\"green\" className=\"ml-2\" />}</p>\r\n                                <p>Region: {searchedUserKyc.region}</p>\r\n                                <p>Date Joined: {searchedUserKyc.dateJoined}</p>\r\n                                <p>Credit Score: {searchedUserKyc.creditScore}</p>\r\n                                {/* <button className=\"mt-3 px-4 py-2 rounded-full bg-blue-600 hover:bg-blue-500 text-white text-sm\">Edit KYC</button> */}\r\n                            </div>\r\n                        )}\r\n                    </GlassCard>\r\n                    <GlassCard className=\"p-6\">\r\n                        <h4 className=\"text-2xl font-semibold mb-4\" style={{ color: COLORS.primaryAccent }}>Update Credit Score</h4>\r\n                        <form onSubmit={handleUpdateCreditScore} className=\"space-y-4\">\r\n                            <input type=\"text\" placeholder=\"User Discord ID or Bank ID\" value={targetUserId} onChange={(e) => setTargetUserId(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                            <input type=\"number\" placeholder=\"New Score (300-850)\" value={newCreditScore} onChange={(e) => setNewCreditScore(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                            <button type=\"submit\" className=\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\" style={{ backgroundColor: COLORS.primaryAccent, color: COLORS.background, boxShadow: `0 0 10px ${COLORS.buttonsGlow}` }}>Update Score</button>\r\n                        </form>\r\n                    </GlassCard>\r\n                </div>\r\n            </section>\r\n\r\n            {/* Role & Access Management */}\r\n            <section className=\"mb-12\">\r\n                <h3 className=\"text-3xl font-bold mb-6 flex items-center\" style={{ color: COLORS.typography }}><Award size={30} className=\"mr-3\" /> Role & Access Management</h3>\r\n                <GlassCard className=\"p-8\">\r\n                    <h4 className=\"text-2xl font-semibold mb-4\" style={{ color: COLORS.primaryAccent }}>Assign Tier Roles (VIP/Black/Partner)</h4>\r\n                    <input type=\"text\" placeholder=\"User Discord ID or Bank ID\" value={assignRoleUserId} onChange={(e) => setAssignRoleUserId(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                    <select value={specialAccountType} onChange={(e) => setSpecialAccountType(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }}>\r\n                        <option value=\"VIP Client\">VIP Client</option>\r\n                        <option value=\"Government Official\">Government Official</option>\r\n                        <option value=\"Intelligence Agent\">Intelligence Agent</option>\r\n                    </select>\r\n                    <button onClick={handleAssignRole} className=\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\" style={{ backgroundColor: COLORS.primaryAccent, color: COLORS.background, boxShadow: `0 0 10px ${COLORS.buttonsGlow}` }}>Assign Role</button>\r\n                    <p className=\"text-sm text-gray-400 italic mt-4\">Restricted Access Controls: Shadow & Government account access limited to Super Admins (conceptual).</p>\r\n                </GlassCard>\r\n            </section>\r\n\r\n            {/* User Account Controls */}\r\n            <section className=\"mb-12\">\r\n                <h3 className=\"text-3xl font-bold mb-6 flex items-center\" style={{ color: COLORS.typography }}><Settings size={30} className=\"mr-3\" /> User Account Controls</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                    <GlassCard className=\"p-6\">\r\n                        <h4 className=\"text-2xl font-semibold mb-4\" style={{ color: COLORS.primaryAccent }}>Auto-Created Personal Accounts</h4>\r\n                        <p className=\"text-sm text-gray-400 mb-4\">Personal accounts are auto-created upon initial registration (if approved by admin).</p>\r\n                        <button onClick={() => alert('Viewing auto-creation logs...')} className=\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\" style={{ backgroundColor: COLORS.primaryAccent, color: COLORS.background, boxShadow: `0 0 10px ${COLORS.buttonsGlow}` }}>View Logs</button>\r\n                    </GlassCard>\r\n                    <GlassCard className=\"p-6\">\r\n                        <h4 className=\"text-2xl font-semibold mb-4\" style={{ color: COLORS.primaryAccent }}>Create / Approve Special Accounts</h4>\r\n                        <select className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography}}>\r\n                            <option>Savings Account</option>\r\n                            <option>Business Account</option>\r\n                            <option>Government Account</option>\r\n                            <option>Credit Card Account</option>\r\n                            <option>Investment Account</option>\r\n                            <option>Shadow Account</option>\r\n                        </select>\r\n                        <input type=\"text\" placeholder=\"User Discord ID or Bank ID\" value={targetUserId} onChange={(e) => setTargetUserId(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                        <button onClick={() => alert('Granting special account access... (Handled via specific request queues)')} className=\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\" style={{ backgroundColor: COLORS.primaryAccent, color: COLORS.background, boxShadow: `0 0 10px ${COLORS.buttonsGlow}` }}>Grant Access</button>\r\n                    </GlassCard>\r\n                    <GlassCard className=\"p-6\">\r\n                        <h4 className=\"text-2xl font-semibold mb-4\" style={{ color: COLORS.primaryAccent }}>Account Security Options</h4>\r\n                        <input type=\"text\" placeholder=\"User Discord ID or Bank ID\" value={targetUserId} onChange={(e) => setTargetUserId(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                        <button onClick={handleFreezeAccount} className=\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200 bg-red-600 hover:bg-red-500\" style={{ boxShadow: `0 0 10px rgba(255,0,0,0.5)` }}>Lock / Freeze Account</button>\r\n                        <p className=\"text-sm text-gray-400 italic mt-2\">Temporary Hold: Freezes all transactions for the user.</p>\r\n                    </GlassCard>\r\n                </div>\r\n            </section>\r\n\r\n            {/* Loans & Credit Tools */}\r\n            <section className=\"mb-12\">\r\n                <h3 className=\"text-3xl font-bold mb-6 flex items-center\" style={{ color: COLORS.typography }}><FileText size={30} className=\"mr-3\" /> Loans & Credit Tools</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <GlassCard className=\"p-6\">\r\n                        <h4 className=\"text-2xl font-semibold mb-4\" style={{ color: COLORS.primaryAccent }}>Loan Review Dashboard</h4>\r\n                        <p className=\"text-sm text-gray-400 mb-4\">View pending loan requests by type (Personal, Business, Mortgage, Government-backed).</p>\r\n                        <button onClick={() => alert('Viewing loan requests by type... (See \"Loan Requests Queue\" above)')} className=\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\" style={{ backgroundColor: COLORS.primaryAccent, color: COLORS.background, boxShadow: `0 0 10px ${COLORS.buttonsGlow}` }}>View Requests by Type</button>\r\n                    </GlassCard>\r\n                    <GlassCard className=\"p-6\">\r\n                        <h4 className=\"text-2xl font-semibold mb-4\" style={{ color: COLORS.primaryAccent }}>Apply Penalties</h4>\r\n                        <input type=\"text\" placeholder=\"User Discord ID or Bank ID\" value={targetUserId} onChange={(e) => setTargetUserId(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                        <select value={penaltyType} onChange={(e) => setPenaltyType(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }}>\r\n                            <option>Missed Payment</option>\r\n                            <option>Loan Default</option>\r\n                            <option>Overused Credit</option>\r\n                            <option>Flagged by Auditor</option>\r\n                        </select>\r\n                        <button onClick={handleApplyPenalty} className=\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200 bg-red-600 hover:bg-red-500\" style={{ boxShadow: `0 0 10px rgba(255,0,0,0.5)` }}>Apply Penalty</button>\r\n                    </GlassCard>\r\n                </div>\r\n            </section>\r\n\r\n            {/* Transactions & Reports */}\r\n            <section className=\"mb-12\">\r\n                <h3 className=\"text-3xl font-bold mb-6 flex items-center\" style={{ color: COLORS.typography }}><BarChart size={30} className=\"mr-3\" /> Transactions & Reports</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <GlassCard className=\"p-6\">\r\n                        <h4 className=\"text-2xl font-semibold mb-4\" style={{ color: COLORS.primaryAccent }}>Generate Tax Reports</h4>\r\n                        <input type=\"text\" placeholder=\"User Discord ID / Entity ID\" value={targetUserId} onChange={(e) => setTargetUserId(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                        <button onClick={() => alert('Generating tax report...')} className=\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-300\" style={{ backgroundColor: COLORS.primaryAccent, color: COLORS.background, boxShadow: `0 0 10px ${COLORS.buttonsGlow}` }}>Generate Report</button>\r\n                    </GlassCard>\r\n                    <GlassCard className=\"p-6\">\r\n                        <h4 className=\"text-2xl font-semibold mb-4\" style={{ color: COLORS.primaryAccent }}>View Audit Logs (Detailed)</h4>\r\n                        <input type=\"text\" placeholder=\"User Discord ID / Transaction ID\" value={targetUserId} onChange={(e) => setTargetUserId(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                        <button onClick={() => alert('Fetching audit logs...')} className=\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-300\" style={{ backgroundColor: COLORS.primaryAccent, color: COLORS.background, boxShadow: `0 0 10px ${COLORS.buttonsGlow}` }}>Fetch Logs</button>\r\n                    </GlassCard>\r\n                    <GlassCard className=\"p-6\">\r\n                        <h4 className=\"text-2xl font-semibold mb-4\" style={{ color: COLORS.primaryAccent }}>Undo / Fix Transactions</h4>\r\n                        <input type=\"text\" placeholder=\"Transaction ID / Error Log ID\" value={targetUserId} onChange={(e) => setTargetUserId(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                        <button onClick={() => alert('Correcting entry...')} className=\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-300\" style={{ backgroundColor: COLORS.primaryAccent, color: COLORS.background, boxShadow: `0 0 10px ${COLORS.buttonsGlow}` }}>Correct Entry</button>\r\n                    </GlassCard>\r\n                </div>\r\n            </section>\r\n\r\n            {/* Government Finance & Linkage */}\r\n            <section className=\"mb-12\">\r\n                <h3 className=\"text-3xl font-bold mb-6 flex items-center\" style={{ color: COLORS.typography }}><Landmark size={30} className=\"mr-3\" /> Government Finance & Linkage</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <GlassCard className=\"p-6\">\r\n                        <h4 className=\"text-2xl font-semibold mb-4\" style={{ color: COLORS.primaryAccent }}>Deposit / Withdraw (Gov)</h4>\r\n                        <input type=\"text\" placeholder=\"Government Account ID\" value={govAccountId} onChange={(e) => setGovAccountId(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                        <input type=\"number\" placeholder=\"Amount\" value={govAmount} onChange={(e) => setGovAmount(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                        <div className=\"flex space-x-4\">\r\n                            <button onClick={() => handleGovTransaction('deposit')} className=\"w-1/2 font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\" style={{ backgroundColor: COLORS.primaryAccent, color: COLORS.background, boxShadow: `0 0 10px ${COLORS.buttonsGlow}` }}>Deposit</button>\r\n                            <button onClick={() => handleGovTransaction('withdraw')} className=\"w-1/2 font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200 bg-orange-600 hover:bg-orange-500\" style={{ boxShadow: `0 0 10px rgba(255,165,0,0.5)` }}>Withdraw</button>\r\n                        </div>\r\n                    </GlassCard>\r\n                    <GlassCard className=\"p-6\">\r\n                        <h4 className=\"text-2xl font-semibold mb-4\" style={{ color: COLORS.primaryAccent }}>Setup Ministry / Agency Account</h4>\r\n                        <input type=\"text\" placeholder=\"Ministry/Agency Name\" className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                        <button onClick={() => alert('Setting up government account... (Handled via Account Requests Queue)')} className=\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\" style={{ backgroundColor: COLORS.primaryAccent, color: COLORS.background, boxShadow: `0 0 10px ${COLORS.buttonsGlow}` }}>Setup Gov Account</button>\r\n                    </GlassCard>\r\n                    <GlassCard className=\"p-6\">\r\n                        <h4 className=\"text-2xl font-semibold mb-4\" style={{ color: COLORS.primaryAccent }}>Link Business to User</h4>\r\n                        <input type=\"text\" placeholder=\"User Discord ID or Bank ID\" value={businessLinkUserId} onChange={(e) => setBusinessLinkUserId(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                        <input type=\"text\" placeholder=\"Business Reg. ID\" value={businessRegId} onChange={(e) => setBusinessRegId(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                        <button onClick={handleLinkBusiness} className=\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200\" style={{ backgroundColor: COLORS.primaryAccent, color: COLORS.background, boxShadow: `0 0 10px ${COLORS.buttonsGlow}` }}>Link Business</button>\r\n                    </GlassCard>\r\n                </div>\r\n            </section>\r\n\r\n            {/* Intelligence & Security */}\r\n            <section className=\"mb-12\">\r\n                <h3 className=\"text-3xl font-bold mb-6 flex items-center\" style={{ color: COLORS.typography }}><Shield size={30} className=\"mr-3\" /> Intelligence & Security</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <GlassCard className=\"p-6\">\r\n                        <h4 className=\"text-2xl font-semibold mb-4\" style={{ color: COLORS.primaryAccent }}>Flag Suspicious Behavior</h4>\r\n                        <input type=\"text\" placeholder=\"User Discord ID / Transaction ID\" value={targetUserId} onChange={(e) => setTargetUserId(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                        <button onClick={() => alert('Flagging for review...')} className=\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-300\" style={{ backgroundColor: COLORS.primaryAccent, color: COLORS.background, boxShadow: `0 0 10px ${COLORS.buttonsGlow}` }}>Flag for Review</button>\r\n                    </GlassCard>\r\n                    <GlassCard className=\"p-6\">\r\n                        <h4 className=\"text-2xl font-semibold mb-4\" style={{ color: COLORS.primaryAccent }}>Ban User Access</h4>\r\n                        <input type=\"text\" placeholder=\"User Discord ID or Bank ID\" value={targetUserId} onChange={(e) => setTargetUserId(e.target.value)} className=\"w-full p-3 border border-gray-600 rounded-lg mb-4\" style={{ backgroundColor: COLORS.secondaryAccent, color: COLORS.typography }} />\r\n                        <button onClick={handleBanUser} className=\"w-full font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-300 bg-red-800 hover:bg-red-700\" style={{ boxShadow: `0 0 10px rgba(255,0,0,0.7)` }}>Ban Account</button>\r\n                    </GlassCard>\r\n                </div>\r\n            </section>\r\n\r\n            {/* Automation Scripts (Read-Only) */}\r\n            <section className=\"mb-12\">\r\n                <h3 className=\"text-3xl font-bold mb-6 flex items-center\" style={{ color: COLORS.typography }}><Zap size={30} className=\"mr-3\" /> Automation Scripts (Read-Only)</h3>\r\n                <GlassCard className=\"p-8\">\r\n                    <ul className=\"space-y-3 text-gray-400\">\r\n                        <li><span className=\"font-semibold\" style={{ color: COLORS.primaryAccent }}>Daily Auto-Credits:</span> Deposits daily/weekly based on job ID or ministry payroll.</li>\r\n                        <li><span className=\"font-semibold\" style={{ color: COLORS.primaryAccent }}>Low Balance Alert Bot:</span> Alerts when account balance is low.</li>\r\n                        <li><span className=\"font-semibold\" style={{ color: COLORS.primaryAccent }}>Monthly Tax Auto-Deduction:</span> Deducts a percentage of income or transfer at set intervals.</li>\r\n                        <li><span className=\"font-semibold\" style={{ color: COLORS.primaryAccent }}>End-of-Month Audit Script:</span> Summarizes account health, credit rating, suspicious logs.</li>\r\n                        <li><span className=\"font-semibold\" style={{ color: COLORS.primaryAccent }}>8-Hour Credit Tracker Update:</span> Cycle system that updates credit automatically.</li>\r\n                    </ul>\r\n                </GlassCard>\r\n            </section>\r\n\r\n            {/* Advanced Admin Tools (Read-Only) */}\r\n            <section className=\"mb-12\">\r\n                <h3 className=\"text-3xl font-bold mb-6 flex items-center\" style={{ color: COLORS.typography }}><Settings size={30} className=\"mr-3\" /> Advanced Admin Tools (Info Only)</h3>\r\n                <GlassCard className=\"p-8\">\r\n                    <ul className=\"space-y-3 text-gray-400\">\r\n                        <li><span className=\"font-semibold\" style={{ color: COLORS.primaryAccent }}>Universal Search Bar:</span> Search users by ID, name, or account type.</li>\r\n                        <li><span className=\"font-semibold\" style={{ color: COLORS.primaryAccent }}>Global Audit Viewer:</span> Filter logs by transaction, action, or risk flag.</li>\r\n                        <li><span className=\"font-semibold\" style={{ color: COLORS.primaryAccent }}>Balance Adjust Tool:</span> Manually increase/decrease any user or account balance.</li>\r\n                        <li><span className=\"font-semibold\" style={{ color: COLORS.primaryAccent }}>Mass Role Editor:</span> Batch assign or remove roles (e.g., VIP, Investor, Partner).</li>\r\n                        <li><span className=\"font-semibold\" style={{ color: COLORS.primaryAccent }}>Bulk Account Export:</span> Export data by type: Personal / Gov / Business (Formats: CSV, XLSX).</li>\r\n                        <li><span className=\"font-semibold\" style={{ color: COLORS.primaryAccent }}>Interbank Transfer Log Viewer:</span> View pending, approved, and flagged transfers.</li>\r\n                        <li><span className=\"font-semibold\" style={{ color: COLORS.primaryAccent }}>Dashboard Filtering Toggle:</span> Filter views by Account Type, Role Tier, Risk Status, Recent Activity.</li>\r\n                        <li><span className=\"font-semibold\" style={{ color: COLORS.primaryAccent }}>Transaction Freeze Override:</span> Approve or deny auto-frozen transactions on flagged accounts.</li>\r\n                        <li><span className=\"font-semibold\" style={{ color: COLORS.primaryAccent }}>Force Emergency Lockdown:</span> Temporarily lock all transfers system-wide for emergency review.</li>\r\n                        <button onClick={() => alert('Activating global lock... (Simulated)')} className=\"mt-4 font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200 bg-red-800 hover:bg-red-700\" style={{ boxShadow: `0 0 10px rgba(255,0,0,0.7)` }}>Activate Global Lock</button>\r\n                    </ul>\r\n                </GlassCard>\r\n            </section>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminDashboardLayout;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}